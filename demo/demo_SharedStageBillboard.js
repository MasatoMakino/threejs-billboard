(()=>{"use strict";var e,t,r,a={1674:(e,t,r)=>{var a=r(638),n=r(6753);n.kxk,n.eaF;var i,o=r(9027),s=function(e,t,r,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,r):n?n.value=r:t.set(e,r),r};class d extends n.gPd{constructor(){super(),i.set(this,!1),this.onRequestFrame=()=>{(function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)})(this,i,"f")&&(this.app.render(),this.needsUpdate=!0,s(this,i,!1,"f"))},this.app=new o.lgM,this.colorSpace="srgb"}init(e,t){return r=this,a=void 0,i=function*(){yield this.app.init({autoStart:!1,backgroundAlpha:0,width:e,height:t}),this.image=this.app.canvas,o.RvI.shared.add(this.onRequestFrame)},new((n=void 0)||(n=Promise))((function(e,t){function o(e){try{d(i.next(e))}catch(e){t(e)}}function s(e){try{d(i.throw(e))}catch(e){t(e)}}function d(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,s)}d((i=i.apply(r,a||[])).next())}));var r,a,n,i}get stage(){return this.app.stage}get width(){return this.app.renderer.width}get height(){return this.app.renderer.height}setNeedUpdate(){s(this,i,!0,"f")}calcurateUV(e){return{x1:e.x/this.width,y1:(this.height-e.y-e.height)/this.height,x2:(e.x+e.width)/this.width,y2:(this.height-e.y)/this.height}}}i=new WeakMap;const c=e=>"map"in e&&e.map instanceof d;class h extends n.kxk{get imageScale(){return this._imageScale}set imageScale(e){this._imageScale=e,this.updateScale()}cloneTextureArea(){return Object.assign({},this._textureArea)}updateTextureAreaAndUV(e){this._textureArea=Object.assign({},e),this.updateScale(),this.updateUVAttribute()}constructor(e,t,r=1){if(super(),this.sharedMaterial=e,this._textureArea=t,this._imageScale=r,!c(e))throw new Error("sharedMaterial.map must be SharedStageTexture");this.geometry=new n.bdM,this.material=e,this.updateScale(),this.updateUVAttribute()}updateScale(){this.scale.set(this._textureArea.width*this._imageScale,this._textureArea.height*this._imageScale,1)}updateUVAttribute(){((e,t,r)=>{if(!c(t))throw new Error("sharedMaterial.map must be SharedStageTexture");const a=t.map.calcurateUV(r),n=e.getAttribute("uv");n.setXY(0,a.x1,a.y2),n.setXY(1,a.x2,a.y2),n.setXY(2,a.x1,a.y1),n.setXY(3,a.x2,a.y1),n.needsUpdate=!0})(this.geometry,this.sharedMaterial,this._textureArea)}}n.eaF;var u=r(3580);const l=(e,t,r)=>{const a=t.cloneTextureArea(),n=()=>{t.updateTextureAreaAndUV(a)},i=e.addFolder(r);i.add(a,"x",0,1024,1).onChange(n),i.add(a,"y",0,1024,1).onChange(n),i.add(a,"width",0,1024,1).onChange(n),i.add(a,"height",0,1024,1).onChange(n)},p=(e,t,r)=>{const a=new h(r,{x:256,y:256,width:256,height:256},.1);return a.position.set(t,0,0),e.add(a),a};window.onload=()=>{(async e=>{const t=await(async()=>{const e=new d;await e.init(1024,1024),await o.sP.load("./uv_grid_opengl.jpg");const t=o.kxk.from("./uv_grid_opengl.jpg");e.stage.addChild(t);const r=new o.EYj({text:"Hello World",style:{fontSize:48,fontFamily:"Arial",fill:"#ff7700"}});return e.stage.addChild(r),r.x=256,r.y=316,e.setNeedUpdate(),(0,o.eEW)(o.W3c[e.app.renderer.type]),e})(),r=new n.RoJ({map:t,transparent:!0,depthTest:!1}),i=p(e,30,r),s=p(e,-30,r),c=new a.Ay;l(c,i,"board 01"),l(c,s,"board 02")})(function(e,t){const r=new n.Z58;!function(e){const t=new n.$p8(16777215,1);e.add(t)}(r);const a=function(e,t,r){const a=new n.ubm(45,t/r,1,400);return a.position.set(0,0,100),a.updateMatrixWorld(!1),e.add(a),a}(r,e,t),i=function(e,t){const r={canvas:document.getElementById("webgl-canvas"),antialias:!0},a=new n.JeP(r);return console.log("Three.js rev :",n.sPf),a.setClearColor(new n.Q1f(0)),a.setSize(e,t),a.setPixelRatio(window.devicePixelRatio),a}(e,t),o=function(e,t){const r=new u.N(e,t.domElement);return r.update(),r}(a,i);return function(e){const t=new n.IzY(30);e.add(t)}(r),function(e,t,r,a){const n=()=>{e.update(),t.render(r,a),requestAnimationFrame(n)};n()}(o,i,r,a),r}(640,480))}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,i),r.exports}i.m=a,e=[],i.O=(t,r,a,n)=>{if(!r){var o=1/0;for(h=0;h<e.length;h++){for(var[r,a,n]=e[h],s=!0,d=0;d<r.length;d++)(!1&n||o>=n)&&Object.keys(i.O).every((e=>i.O[e](r[d])))?r.splice(d--,1):(s=!1,n<o&&(o=n));if(s){e.splice(h--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[r,a,n]},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},r="@masatomakino/threejs-billboard:",i.l=(e,a,n,o)=>{if(t[e])t[e].push(a);else{var s,d;if(void 0!==n)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var u=c[h];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+n){s=u;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",r+n),s.src=e),t[e]=[a];var l=(r,a)=>{s.onerror=s.onload=null,clearTimeout(p);var n=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(a))),r)return r(a)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),d&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=341,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={341:0};i.f.j=(t,r)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var n=new Promise(((r,n)=>a=e[t]=[r,n]));r.push(a[2]=n);var o=i.p+i.u(t),s=new Error;i.l(o,(r=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",s.name="ChunkLoadError",s.type=n,s.request=o,a[1](s)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[o,s,d]=r,c=0;if(o.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(d)var h=d(i)}for(t&&t(r);c<o.length;c++)n=o[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(h)},r=self.webpackChunk_masatomakino_threejs_billboard=self.webpackChunk_masatomakino_threejs_billboard||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=i.O(void 0,[121],(()=>i(1674)));o=i.O(o)})();