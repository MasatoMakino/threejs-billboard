(()=>{"use strict";var e,t,r,a={1409:(e,t,r)=>{var a=r(638),i=r(1710);i.kxk,i.eaF;class o{constructor(e){this.isLookingCameraHorizontal=!1,this.cameraPos=new i.Pq0,this.worldPos=new i.Pq0,this.needUpdateWorldPosition=!1,this.lookCamera=(e,t,r,a,i,o)=>{this.isLookingCameraHorizontal&&this.target&&(this.needUpdateWorldPosition&&(this.target.getWorldPosition(this.worldPos),this.needUpdateWorldPosition=!1),this.cameraPos.set(r.position.x,this.worldPos.y,r.position.z),this.target.lookAt(this.cameraPos))},this.target=e,this.target.getWorldPosition(this.worldPos),this.originalOnBeforeRender=this.target.onBeforeRender,this.target.onBeforeRender=this.lookCamera}dispose(){this.target&&(this.target.onBeforeRender=this.originalOnBeforeRender,this.target=void 0)}}var n,s=r(4698),d=function(e,t,r,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,r):i?i.value=r:t.set(e,r),r};class h extends i.gPd{constructor(){super(),n.set(this,!1),this.onRequestFrame=()=>{(function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)})(this,n,"f")&&(this.app.render(),this.needsUpdate=!0,d(this,n,!1,"f"))},this.app=new s.lgM,this.colorSpace="srgb"}init(e,t){return r=this,a=void 0,o=function*(){yield this.app.init({autoStart:!1,backgroundAlpha:0,width:e,height:t}),this.image=this.app.canvas,s.RvI.shared.add(this.onRequestFrame)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{d(o.next(e))}catch(e){t(e)}}function s(e){try{d(o.throw(e))}catch(e){t(e)}}function d(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}d((o=o.apply(r,a||[])).next())}));var r,a,i,o}get stage(){return this.app.stage}get width(){return this.app.renderer.width}get height(){return this.app.renderer.height}setNeedUpdate(){d(this,n,!0,"f")}calculateUV(e){return{x1:e.x/this.width,y1:(this.height-e.y-e.height)/this.height,x2:(e.x+e.width)/this.width,y2:(this.height-e.y)/this.height}}calcurateUV(e){return this.calculateUV(e)}}n=new WeakMap;const c=e=>"map"in e&&e.map instanceof h;i.kxk;class l extends i.eaF{cloneTextureArea(){return Object.assign({},this._textureArea)}updateTextureAreaAndUV(e){const t=Object.assign({},this._textureArea);this._textureArea=Object.assign({},e),t.width===e.width&&t.height===e.height||(this.geometry=new i.bdM(e.width,e.height)),this.updateUVAttribute()}constructor(e,t){if(super(),this.sharedMaterial=e,this._textureArea=t,this.cameraChaser=new o(this),!c(e))throw new Error("sharedMaterial.map must be SharedStageTexture");this.geometry=new i.bdM(t.width,t.height),this.material=e,this.updateUVAttribute()}updateUVAttribute(){((e,t,r)=>{if(!c(t))throw new Error("sharedMaterial.map must be SharedStageTexture");const a=t.map.calculateUV(r),i=e.getAttribute("uv");i.setXY(0,a.x1,a.y2),i.setXY(1,a.x2,a.y2),i.setXY(2,a.x1,a.y1),i.setXY(3,a.x2,a.y1),i.needsUpdate=!0})(this.geometry,this.sharedMaterial,this._textureArea)}}i.kxk,i.eaF;var u=r(6753),p=r(3580);const g=(e,t,r)=>{const a=t.cloneTextureArea(),i=()=>{t.updateTextureAreaAndUV(a)},o=e.addFolder(r);o.add(a,"x",0,1024,1).onChange(i),o.add(a,"y",0,1024,1).onChange(i),o.add(a,"width",0,1024,1).onChange(i),o.add(a,"height",0,1024,1).onChange(i)},f=(e,t,r)=>{const a=new l(r,{x:256,y:256,width:256,height:256});return a.position.set(t,0,0),a.scale.set(.1,.1,.1),a.cameraChaser.isLookingCameraHorizontal=!0,e.add(a),a};window.onload=()=>{(async e=>{const t=await(async()=>{const e=new h;await e.init(1024,1024),await s.sP.load("./uv_grid_opengl.jpg");const t=s.kxk.from("./uv_grid_opengl.jpg");e.stage.addChild(t);const r=new s.EYj({text:"Hello World",style:{fontSize:48,fontFamily:"Arial",fill:"#ff7700"}});return e.stage.addChild(r),r.x=256,r.y=316,e.setNeedUpdate(),(0,s.eEW)(s.W3c[e.app.renderer.type]),e})(),r=new i.V9B({map:t,transparent:!0}),o=f(e,30,r),n=f(e,-30,r),d=new a.Ay;g(d,o,"board 01"),g(d,n,"board 02")})(function(e,t){const r=new i.Z58;!function(e){const t=new i.$p8(16777215,1);e.add(t)}(r);const a=function(e,t,r){const a=new i.ubm(45,t/r,1,400);return a.position.set(0,0,100),a.updateMatrixWorld(!1),e.add(a),a}(r,e,t),o=function(e,t){const r=new u.JeP({antialias:!0});return console.log("Three.js rev :",i.sPf),r.setClearColor(new i.Q1f(0)),r.setSize(e,t),r.setPixelRatio(window.devicePixelRatio),document.body.appendChild(r.domElement),r}(e,t),n=function(e,t){const r=new p.N(e,t.domElement);return r.update(),r}(a,o);return function(e){const t=new i.IzY(30);e.add(t)}(r),function(e,t,r,a){const i=()=>{e.update(),t.render(r,a),requestAnimationFrame(i)};i()}(n,o,r,a),r}(640,480))}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return a[e](r,r.exports,o),r.exports}o.m=a,e=[],o.O=(t,r,a,i)=>{if(!r){var n=1/0;for(c=0;c<e.length;c++){for(var[r,a,i]=e[c],s=!0,d=0;d<r.length;d++)(!1&i||n>=i)&&Object.keys(o.O).every((e=>o.O[e](r[d])))?r.splice(d--,1):(s=!1,i<n&&(n=i));if(s){e.splice(c--,1);var h=a();void 0!==h&&(t=h)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,a,i]},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>e+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},r="@masatomakino/threejs-billboard:",o.l=(e,a,i,n)=>{if(t[e])t[e].push(a);else{var s,d;if(void 0!==i)for(var h=document.getElementsByTagName("script"),c=0;c<h.length;c++){var l=h[c];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==r+i){s=l;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+i),s.src=e),t[e]=[a];var u=(r,a)=>{s.onerror=s.onload=null,clearTimeout(p);var i=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(a))),r)return r(a)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),d&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=101,(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={101:0};o.f.j=(t,r)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise(((r,i)=>a=e[t]=[r,i]));r.push(a[2]=i);var n=o.p+o.u(t),s=new Error;o.l(n,(r=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",s.name="ChunkLoadError",s.type=i,s.request=n,a[1](s)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[n,s,d]=r,h=0;if(n.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(d)var c=d(o)}for(t&&t(r);h<n.length;h++)i=n[h],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},r=self.webpackChunk_masatomakino_threejs_billboard=self.webpackChunk_masatomakino_threejs_billboard||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[121],(()=>o(1409)));n=o.O(n)})();