"use strict";(self.webpackChunk_masatomakino_threejs_billboard=self.webpackChunk_masatomakino_threejs_billboard||[]).push([[8],{8157:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  o: () => (/* binding */ compileHighShaderGlProgram),\n  d: () => (/* binding */ compileHighShaderGpuProgram)\n});\n\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlProgram.mjs + 6 modules\nvar GlProgram = __webpack_require__(749);\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/GpuProgram.mjs + 6 modules\nvar GpuProgram = __webpack_require__(1982);\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/utils/logging/warn.mjs\nvar warn = __webpack_require__(4796);\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/addBits.mjs\n\n\n"use strict";\nfunction addBits(srcParts, parts, name) {\n  if (srcParts) {\n    for (const i in srcParts) {\n      const id = i.toLocaleLowerCase();\n      const part = parts[id];\n      if (part) {\n        let sanitisedPart = srcParts[i];\n        if (i === "header") {\n          sanitisedPart = sanitisedPart.replace(/@in\\s+[^;]+;\\s*/g, "").replace(/@out\\s+[^;]+;\\s*/g, "");\n        }\n        if (name) {\n          part.push(`//----${name}----//`);\n        }\n        part.push(sanitisedPart);\n      } else {\n        (0,warn/* warn */.Z)(`${i} placement hook does not exist in shader`);\n      }\n    }\n  }\n}\n\n\n//# sourceMappingURL=addBits.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileHooks.mjs\n\nconst findHooksRx = /\\{\\{(.*?)\\}\\}/g;\nfunction compileHooks(programSrc) {\n  const parts = {};\n  const partMatches = programSrc.match(findHooksRx)?.map((hook) => hook.replace(/[{()}]/g, "")) ?? [];\n  partMatches.forEach((hook) => {\n    parts[hook] = [];\n  });\n  return parts;\n}\n\n\n//# sourceMappingURL=compileHooks.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileInputs.mjs\n\nfunction extractInputs(fragmentSource, out) {\n  let match;\n  const regex = /@in\\s+([^;]+);/g;\n  while ((match = regex.exec(fragmentSource)) !== null) {\n    out.push(match[1]);\n  }\n}\nfunction compileInputs(fragments, template, sort = false) {\n  const results = [];\n  extractInputs(template, results);\n  fragments.forEach((fragment) => {\n    if (fragment.header) {\n      extractInputs(fragment.header, results);\n    }\n  });\n  const mainInput = results;\n  if (sort) {\n    mainInput.sort();\n  }\n  const finalString = mainInput.map((inValue, i) => `       @location(${i}) ${inValue},`).join("\\n");\n  let cleanedString = template.replace(/@in\\s+[^;]+;\\s*/g, "");\n  cleanedString = cleanedString.replace("{{in}}", `\n${finalString}\n`);\n  return cleanedString;\n}\n\n\n//# sourceMappingURL=compileInputs.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/compileOutputs.mjs\n\nfunction extractOutputs(fragmentSource, out) {\n  let match;\n  const regex = /@out\\s+([^;]+);/g;\n  while ((match = regex.exec(fragmentSource)) !== null) {\n    out.push(match[1]);\n  }\n}\nfunction extractVariableName(value) {\n  const regex = /\\b(\\w+)\\s*:/g;\n  const match = regex.exec(value);\n  return match ? match[1] : "";\n}\nfunction stripVariable(value) {\n  const regex = /@.*?\\s+/g;\n  return value.replace(regex, "");\n}\nfunction compileOutputs(fragments, template) {\n  const results = [];\n  extractOutputs(template, results);\n  fragments.forEach((fragment) => {\n    if (fragment.header) {\n      extractOutputs(fragment.header, results);\n    }\n  });\n  let index = 0;\n  const mainStruct = results.sort().map((inValue) => {\n    if (inValue.indexOf("builtin") > -1) {\n      return inValue;\n    }\n    return `@location(${index++}) ${inValue}`;\n  }).join(",\\n");\n  const mainStart = results.sort().map((inValue) => `       var ${stripVariable(inValue)};`).join("\\n");\n  const mainEnd = `return VSOutput(\n                ${results.sort().map((inValue) => ` ${extractVariableName(inValue)}`).join(",\\n")});`;\n  let compiledCode = template.replace(/@out\\s+[^;]+;\\s*/g, "");\n  compiledCode = compiledCode.replace("{{struct}}", `\n${mainStruct}\n`);\n  compiledCode = compiledCode.replace("{{start}}", `\n${mainStart}\n`);\n  compiledCode = compiledCode.replace("{{return}}", `\n${mainEnd}\n`);\n  return compiledCode;\n}\n\n\n//# sourceMappingURL=compileOutputs.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/utils/injectBits.mjs\n\nfunction injectBits(templateSrc, fragmentParts) {\n  let out = templateSrc;\n  for (const i in fragmentParts) {\n    const parts = fragmentParts[i];\n    const toInject = parts.join("\\n");\n    if (toInject.length) {\n      out = out.replace(`{{${i}}}`, `//-----${i} START-----//\n${parts.join("\\n")}\n//----${i} FINISH----//`);\n    } else {\n      out = out.replace(`{{${i}}}`, "");\n    }\n  }\n  return out;\n}\n\n\n//# sourceMappingURL=injectBits.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compiler/compileHighShader.mjs\n\n\n\n\n\n\n"use strict";\nconst cacheMap = /* @__PURE__ */ Object.create(null);\nconst bitCacheMap = /* @__PURE__ */ new Map();\nlet CACHE_UID = 0;\nfunction compileHighShader({\n  template,\n  bits\n}) {\n  const cacheId = generateCacheId(template, bits);\n  if (cacheMap[cacheId])\n    return cacheMap[cacheId];\n  const { vertex, fragment } = compileInputsAndOutputs(template, bits);\n  cacheMap[cacheId] = compileBits(vertex, fragment, bits);\n  return cacheMap[cacheId];\n}\nfunction compileHighShaderGl({\n  template,\n  bits\n}) {\n  const cacheId = generateCacheId(template, bits);\n  if (cacheMap[cacheId])\n    return cacheMap[cacheId];\n  cacheMap[cacheId] = compileBits(template.vertex, template.fragment, bits);\n  return cacheMap[cacheId];\n}\nfunction compileInputsAndOutputs(template, bits) {\n  const vertexFragments = bits.map((shaderBit) => shaderBit.vertex).filter((v) => !!v);\n  const fragmentFragments = bits.map((shaderBit) => shaderBit.fragment).filter((v) => !!v);\n  let compiledVertex = compileInputs(vertexFragments, template.vertex, true);\n  compiledVertex = compileOutputs(vertexFragments, compiledVertex);\n  const compiledFragment = compileInputs(fragmentFragments, template.fragment, true);\n  return {\n    vertex: compiledVertex,\n    fragment: compiledFragment\n  };\n}\nfunction generateCacheId(template, bits) {\n  return bits.map((highFragment) => {\n    if (!bitCacheMap.has(highFragment)) {\n      bitCacheMap.set(highFragment, CACHE_UID++);\n    }\n    return bitCacheMap.get(highFragment);\n  }).sort((a, b) => a - b).join("-") + template.vertex + template.fragment;\n}\nfunction compileBits(vertex, fragment, bits) {\n  const vertexParts = compileHooks(vertex);\n  const fragmentParts = compileHooks(fragment);\n  bits.forEach((shaderBit) => {\n    addBits(shaderBit.vertex, vertexParts, shaderBit.name);\n    addBits(shaderBit.fragment, fragmentParts, shaderBit.name);\n  });\n  return {\n    vertex: injectBits(vertex, vertexParts),\n    fragment: injectBits(fragment, fragmentParts)\n  };\n}\n\n\n//# sourceMappingURL=compileHighShader.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/defaultProgramTemplate.mjs\n\nconst vertexGPUTemplate = (\n  /* wgsl */\n  `\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n`\n);\nconst fragmentGPUTemplate = (\n  /* wgsl */\n  `\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        return outColor * vColor;\n      };\n`\n);\nconst vertexGlTemplate = (\n  /* glsl */\n  `\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n        \n        {{start}}\n        \n        vColor = vec4(1.);\n        \n        {{main}}\n        \n        vUV = uv;\n        \n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n`\n);\nconst fragmentGlTemplate = (\n  /* glsl */\n  `\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n    }\n`\n);\n\n\n//# sourceMappingURL=defaultProgramTemplate.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/shader-bits/globalUniformsBit.mjs\n\nconst globalUniformsBit = {\n  name: "global-uniforms-bit",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        `\n    )\n  }\n};\nconst globalUniformsUBOBitGl = {\n  name: "global-uniforms-ubo-bit",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n          uniform globalUniforms {\n            mat3 uProjectionMatrix;\n            mat3 uWorldTransformMatrix;\n            vec4 uWorldColorAlpha;\n            vec2 uResolution;\n          };\n        `\n    )\n  }\n};\nconst globalUniformsBitGl = {\n  name: "global-uniforms-bit",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        `\n    )\n  }\n};\n\n\n//# sourceMappingURL=globalUniformsBit.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/high-shader/compileHighShaderToProgram.mjs\n\n\n\n\n\n\n"use strict";\nfunction compileHighShaderGpuProgram({ bits, name }) {\n  const source = compileHighShader({\n    template: {\n      fragment: fragmentGPUTemplate,\n      vertex: vertexGPUTemplate\n    },\n    bits: [\n      globalUniformsBit,\n      ...bits\n    ]\n  });\n  return GpuProgram/* GpuProgram */.O.from({\n    name,\n    vertex: {\n      source: source.vertex,\n      entryPoint: "main"\n    },\n    fragment: {\n      source: source.fragment,\n      entryPoint: "main"\n    }\n  });\n}\nfunction compileHighShaderGlProgram({ bits, name }) {\n  return new GlProgram/* GlProgram */.J({\n    name,\n    ...compileHighShaderGl({\n      template: {\n        vertex: vertexGlTemplate,\n        fragment: fragmentGlTemplate\n      },\n      bits: [\n        globalUniformsBitGl,\n        ...bits\n      ]\n    })\n  });\n}\n\n\n//# sourceMappingURL=compileHighShaderToProgram.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE1Ny5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEwRDs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELEdBQUcsOEJBQThCLEdBQUc7QUFDOUY7QUFDQTtBQUNBLDZCQUE2QixLQUFLO0FBQ2xDO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUSxvQkFBSSxJQUFJLEdBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRW1CO0FBQ25COzs7QUN6QmE7QUFDYix1QkFBdUIsRUFBRSxPQUFPLEVBQUU7QUFDbEM7QUFDQTtBQUNBLG1GQUFtRixHQUFHO0FBQ3RGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFcUM7QUFDckM7OztBQ1phO0FBQ2I7QUFDQTtBQUNBLDJCQUEyQixJQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsRUFBRSxJQUFJLFFBQVE7QUFDdEYsaURBQWlELEdBQUc7QUFDcEQsMkNBQTJDLElBQUk7QUFDL0MsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFeUI7QUFDekI7OztBQzdCYTtBQUNiO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUSxJQUFJLFFBQVE7QUFDNUMsR0FBRztBQUNILGtFQUFrRSx3QkFBd0I7QUFDMUY7QUFDQSxrQkFBa0Isb0NBQW9DLDZCQUE2QixlQUFlLEVBQUU7QUFDcEcsaURBQWlELEdBQUc7QUFDcEQseUNBQXlDLFFBQVE7QUFDakQsRUFBRTtBQUNGO0FBQ0EseUNBQXlDLE9BQU87QUFDaEQsRUFBRTtBQUNGO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFMEI7QUFDMUI7OztBQ2pEYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixFQUFFLElBQUksYUFBYSxHQUFHO0FBQ2pELEVBQUU7QUFDRixRQUFRLEdBQUc7QUFDWCxNQUFNO0FBQ04sMkJBQTJCLEVBQUUsSUFBSTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFc0I7QUFDdEI7OztBQ2xCOEM7QUFDVTtBQUNFO0FBQ0U7QUFDUjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixhQUFhO0FBQ3BDLG1CQUFtQixjQUFjO0FBQ2pDLDJCQUEyQixhQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHNCQUFzQixZQUFZO0FBQ2xDLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0EsSUFBSSxPQUFPO0FBQ1gsSUFBSSxPQUFPO0FBQ1gsR0FBRztBQUNIO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLGNBQWMsVUFBVTtBQUN4QjtBQUNBOztBQUVrRDtBQUNsRDs7O0FDaEVhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTs7QUFFTjtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBLGVBQWUsS0FBSzs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQSxVQUFVOztBQUVWOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVOztBQUVWLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE1BQU07O0FBRU47QUFDQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV3RjtBQUN4Rjs7O0FDeklhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBFO0FBQzFFOzs7QUNuRGlFO0FBQ0c7QUFDc0I7QUFDa0M7QUFDL0I7O0FBRTdGO0FBQ0EsdUNBQXVDLFlBQVk7QUFDbkQsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBLGdCQUFnQixtQkFBbUI7QUFDbkMsY0FBYyxpQkFBaUI7QUFDL0IsS0FBSztBQUNMO0FBQ0EsTUFBTSxpQkFBaUI7QUFDdkI7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLDRCQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0NBQXNDLFlBQVk7QUFDbEQsYUFBYSwwQkFBUztBQUN0QjtBQUNBLE9BQU8sbUJBQW1CO0FBQzFCO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxrQkFBa0Isa0JBQWtCO0FBQ3BDLE9BQU87QUFDUDtBQUNBLFFBQVEsbUJBQW1CO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVtRTtBQUNuRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVyL3V0aWxzL2FkZEJpdHMubWpzP2ZhMmUiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvdXRpbHMvY29tcGlsZUhvb2tzLm1qcz85ZGFjIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVyL3V0aWxzL2NvbXBpbGVJbnB1dHMubWpzPzQ5YzciLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvdXRpbHMvY29tcGlsZU91dHB1dHMubWpzP2UyNjQiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvdXRpbHMvaW5qZWN0Qml0cy5tanM/M2YzOCIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci9jb21waWxlSGlnaFNoYWRlci5tanM/MmQ2YSIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcz8zYjg5Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2dsb2JhbFVuaWZvcm1zQml0Lm1qcz8wYTdiIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVIaWdoU2hhZGVyVG9Qcm9ncmFtLm1qcz84YTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhZGRCaXRzKHNyY1BhcnRzLCBwYXJ0cywgbmFtZSkge1xuICBpZiAoc3JjUGFydHMpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gc3JjUGFydHMpIHtcbiAgICAgIGNvbnN0IGlkID0gaS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2lkXTtcbiAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgIGxldCBzYW5pdGlzZWRQYXJ0ID0gc3JjUGFydHNbaV07XG4gICAgICAgIGlmIChpID09PSBcImhlYWRlclwiKSB7XG4gICAgICAgICAgc2FuaXRpc2VkUGFydCA9IHNhbml0aXNlZFBhcnQucmVwbGFjZSgvQGluXFxzK1teO10rO1xccyovZywgXCJcIikucmVwbGFjZSgvQG91dFxccytbXjtdKztcXHMqL2csIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcGFydC5wdXNoKGAvLy0tLS0ke25hbWV9LS0tLS8vYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFydC5wdXNoKHNhbml0aXNlZFBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgJHtpfSBwbGFjZW1lbnQgaG9vayBkb2VzIG5vdCBleGlzdCBpbiBzaGFkZXJgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgYWRkQml0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkQml0cy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZpbmRIb29rc1J4ID0gL1xce1xceyguKj8pXFx9XFx9L2c7XG5mdW5jdGlvbiBjb21waWxlSG9va3MocHJvZ3JhbVNyYykge1xuICBjb25zdCBwYXJ0cyA9IHt9O1xuICBjb25zdCBwYXJ0TWF0Y2hlcyA9IHByb2dyYW1TcmMubWF0Y2goZmluZEhvb2tzUngpPy5tYXAoKGhvb2spID0+IGhvb2sucmVwbGFjZSgvW3soKX1dL2csIFwiXCIpKSA/PyBbXTtcbiAgcGFydE1hdGNoZXMuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgIHBhcnRzW2hvb2tdID0gW107XG4gIH0pO1xuICByZXR1cm4gcGFydHM7XG59XG5cbmV4cG9ydCB7IGNvbXBpbGVIb29rcywgZmluZEhvb2tzUnggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVIb29rcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4dHJhY3RJbnB1dHMoZnJhZ21lbnRTb3VyY2UsIG91dCkge1xuICBsZXQgbWF0Y2g7XG4gIGNvbnN0IHJlZ2V4ID0gL0BpblxccysoW147XSspOy9nO1xuICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyhmcmFnbWVudFNvdXJjZSkpICE9PSBudWxsKSB7XG4gICAgb3V0LnB1c2gobWF0Y2hbMV0pO1xuICB9XG59XG5mdW5jdGlvbiBjb21waWxlSW5wdXRzKGZyYWdtZW50cywgdGVtcGxhdGUsIHNvcnQgPSBmYWxzZSkge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGV4dHJhY3RJbnB1dHModGVtcGxhdGUsIHJlc3VsdHMpO1xuICBmcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICBpZiAoZnJhZ21lbnQuaGVhZGVyKSB7XG4gICAgICBleHRyYWN0SW5wdXRzKGZyYWdtZW50LmhlYWRlciwgcmVzdWx0cyk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgbWFpbklucHV0ID0gcmVzdWx0cztcbiAgaWYgKHNvcnQpIHtcbiAgICBtYWluSW5wdXQuc29ydCgpO1xuICB9XG4gIGNvbnN0IGZpbmFsU3RyaW5nID0gbWFpbklucHV0Lm1hcCgoaW5WYWx1ZSwgaSkgPT4gYCAgICAgICBAbG9jYXRpb24oJHtpfSkgJHtpblZhbHVlfSxgKS5qb2luKFwiXFxuXCIpO1xuICBsZXQgY2xlYW5lZFN0cmluZyA9IHRlbXBsYXRlLnJlcGxhY2UoL0BpblxccytbXjtdKztcXHMqL2csIFwiXCIpO1xuICBjbGVhbmVkU3RyaW5nID0gY2xlYW5lZFN0cmluZy5yZXBsYWNlKFwie3tpbn19XCIsIGBcbiR7ZmluYWxTdHJpbmd9XG5gKTtcbiAgcmV0dXJuIGNsZWFuZWRTdHJpbmc7XG59XG5cbmV4cG9ydCB7IGNvbXBpbGVJbnB1dHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVJbnB1dHMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBleHRyYWN0T3V0cHV0cyhmcmFnbWVudFNvdXJjZSwgb3V0KSB7XG4gIGxldCBtYXRjaDtcbiAgY29uc3QgcmVnZXggPSAvQG91dFxccysoW147XSspOy9nO1xuICB3aGlsZSAoKG1hdGNoID0gcmVnZXguZXhlYyhmcmFnbWVudFNvdXJjZSkpICE9PSBudWxsKSB7XG4gICAgb3V0LnB1c2gobWF0Y2hbMV0pO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0VmFyaWFibGVOYW1lKHZhbHVlKSB7XG4gIGNvbnN0IHJlZ2V4ID0gL1xcYihcXHcrKVxccyo6L2c7XG4gIGNvbnN0IG1hdGNoID0gcmVnZXguZXhlYyh2YWx1ZSk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogXCJcIjtcbn1cbmZ1bmN0aW9uIHN0cmlwVmFyaWFibGUodmFsdWUpIHtcbiAgY29uc3QgcmVnZXggPSAvQC4qP1xccysvZztcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocmVnZXgsIFwiXCIpO1xufVxuZnVuY3Rpb24gY29tcGlsZU91dHB1dHMoZnJhZ21lbnRzLCB0ZW1wbGF0ZSkge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGV4dHJhY3RPdXRwdXRzKHRlbXBsYXRlLCByZXN1bHRzKTtcbiAgZnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgaWYgKGZyYWdtZW50LmhlYWRlcikge1xuICAgICAgZXh0cmFjdE91dHB1dHMoZnJhZ21lbnQuaGVhZGVyLCByZXN1bHRzKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgaW5kZXggPSAwO1xuICBjb25zdCBtYWluU3RydWN0ID0gcmVzdWx0cy5zb3J0KCkubWFwKChpblZhbHVlKSA9PiB7XG4gICAgaWYgKGluVmFsdWUuaW5kZXhPZihcImJ1aWx0aW5cIikgPiAtMSkge1xuICAgICAgcmV0dXJuIGluVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBgQGxvY2F0aW9uKCR7aW5kZXgrK30pICR7aW5WYWx1ZX1gO1xuICB9KS5qb2luKFwiLFxcblwiKTtcbiAgY29uc3QgbWFpblN0YXJ0ID0gcmVzdWx0cy5zb3J0KCkubWFwKChpblZhbHVlKSA9PiBgICAgICAgIHZhciAke3N0cmlwVmFyaWFibGUoaW5WYWx1ZSl9O2ApLmpvaW4oXCJcXG5cIik7XG4gIGNvbnN0IG1haW5FbmQgPSBgcmV0dXJuIFZTT3V0cHV0KFxuICAgICAgICAgICAgICAgICR7cmVzdWx0cy5zb3J0KCkubWFwKChpblZhbHVlKSA9PiBgICR7ZXh0cmFjdFZhcmlhYmxlTmFtZShpblZhbHVlKX1gKS5qb2luKFwiLFxcblwiKX0pO2A7XG4gIGxldCBjb21waWxlZENvZGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9Ab3V0XFxzK1teO10rO1xccyovZywgXCJcIik7XG4gIGNvbXBpbGVkQ29kZSA9IGNvbXBpbGVkQ29kZS5yZXBsYWNlKFwie3tzdHJ1Y3R9fVwiLCBgXG4ke21haW5TdHJ1Y3R9XG5gKTtcbiAgY29tcGlsZWRDb2RlID0gY29tcGlsZWRDb2RlLnJlcGxhY2UoXCJ7e3N0YXJ0fX1cIiwgYFxuJHttYWluU3RhcnR9XG5gKTtcbiAgY29tcGlsZWRDb2RlID0gY29tcGlsZWRDb2RlLnJlcGxhY2UoXCJ7e3JldHVybn19XCIsIGBcbiR7bWFpbkVuZH1cbmApO1xuICByZXR1cm4gY29tcGlsZWRDb2RlO1xufVxuXG5leHBvcnQgeyBjb21waWxlT3V0cHV0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZU91dHB1dHMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpbmplY3RCaXRzKHRlbXBsYXRlU3JjLCBmcmFnbWVudFBhcnRzKSB7XG4gIGxldCBvdXQgPSB0ZW1wbGF0ZVNyYztcbiAgZm9yIChjb25zdCBpIGluIGZyYWdtZW50UGFydHMpIHtcbiAgICBjb25zdCBwYXJ0cyA9IGZyYWdtZW50UGFydHNbaV07XG4gICAgY29uc3QgdG9JbmplY3QgPSBwYXJ0cy5qb2luKFwiXFxuXCIpO1xuICAgIGlmICh0b0luamVjdC5sZW5ndGgpIHtcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKGB7eyR7aX19fWAsIGAvLy0tLS0tJHtpfSBTVEFSVC0tLS0tLy9cbiR7cGFydHMuam9pbihcIlxcblwiKX1cbi8vLS0tLSR7aX0gRklOSVNILS0tLS8vYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKGB7eyR7aX19fWAsIFwiXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgeyBpbmplY3RCaXRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmplY3RCaXRzLm1qcy5tYXBcbiIsImltcG9ydCB7IGFkZEJpdHMgfSBmcm9tICcuL3V0aWxzL2FkZEJpdHMubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIb29rcyB9IGZyb20gJy4vdXRpbHMvY29tcGlsZUhvb2tzLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSW5wdXRzIH0gZnJvbSAnLi91dGlscy9jb21waWxlSW5wdXRzLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlT3V0cHV0cyB9IGZyb20gJy4vdXRpbHMvY29tcGlsZU91dHB1dHMubWpzJztcbmltcG9ydCB7IGluamVjdEJpdHMgfSBmcm9tICcuL3V0aWxzL2luamVjdEJpdHMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjYWNoZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgYml0Q2FjaGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xubGV0IENBQ0hFX1VJRCA9IDA7XG5mdW5jdGlvbiBjb21waWxlSGlnaFNoYWRlcih7XG4gIHRlbXBsYXRlLFxuICBiaXRzXG59KSB7XG4gIGNvbnN0IGNhY2hlSWQgPSBnZW5lcmF0ZUNhY2hlSWQodGVtcGxhdGUsIGJpdHMpO1xuICBpZiAoY2FjaGVNYXBbY2FjaGVJZF0pXG4gICAgcmV0dXJuIGNhY2hlTWFwW2NhY2hlSWRdO1xuICBjb25zdCB7IHZlcnRleCwgZnJhZ21lbnQgfSA9IGNvbXBpbGVJbnB1dHNBbmRPdXRwdXRzKHRlbXBsYXRlLCBiaXRzKTtcbiAgY2FjaGVNYXBbY2FjaGVJZF0gPSBjb21waWxlQml0cyh2ZXJ0ZXgsIGZyYWdtZW50LCBiaXRzKTtcbiAgcmV0dXJuIGNhY2hlTWFwW2NhY2hlSWRdO1xufVxuZnVuY3Rpb24gY29tcGlsZUhpZ2hTaGFkZXJHbCh7XG4gIHRlbXBsYXRlLFxuICBiaXRzXG59KSB7XG4gIGNvbnN0IGNhY2hlSWQgPSBnZW5lcmF0ZUNhY2hlSWQodGVtcGxhdGUsIGJpdHMpO1xuICBpZiAoY2FjaGVNYXBbY2FjaGVJZF0pXG4gICAgcmV0dXJuIGNhY2hlTWFwW2NhY2hlSWRdO1xuICBjYWNoZU1hcFtjYWNoZUlkXSA9IGNvbXBpbGVCaXRzKHRlbXBsYXRlLnZlcnRleCwgdGVtcGxhdGUuZnJhZ21lbnQsIGJpdHMpO1xuICByZXR1cm4gY2FjaGVNYXBbY2FjaGVJZF07XG59XG5mdW5jdGlvbiBjb21waWxlSW5wdXRzQW5kT3V0cHV0cyh0ZW1wbGF0ZSwgYml0cykge1xuICBjb25zdCB2ZXJ0ZXhGcmFnbWVudHMgPSBiaXRzLm1hcCgoc2hhZGVyQml0KSA9PiBzaGFkZXJCaXQudmVydGV4KS5maWx0ZXIoKHYpID0+ICEhdik7XG4gIGNvbnN0IGZyYWdtZW50RnJhZ21lbnRzID0gYml0cy5tYXAoKHNoYWRlckJpdCkgPT4gc2hhZGVyQml0LmZyYWdtZW50KS5maWx0ZXIoKHYpID0+ICEhdik7XG4gIGxldCBjb21waWxlZFZlcnRleCA9IGNvbXBpbGVJbnB1dHModmVydGV4RnJhZ21lbnRzLCB0ZW1wbGF0ZS52ZXJ0ZXgsIHRydWUpO1xuICBjb21waWxlZFZlcnRleCA9IGNvbXBpbGVPdXRwdXRzKHZlcnRleEZyYWdtZW50cywgY29tcGlsZWRWZXJ0ZXgpO1xuICBjb25zdCBjb21waWxlZEZyYWdtZW50ID0gY29tcGlsZUlucHV0cyhmcmFnbWVudEZyYWdtZW50cywgdGVtcGxhdGUuZnJhZ21lbnQsIHRydWUpO1xuICByZXR1cm4ge1xuICAgIHZlcnRleDogY29tcGlsZWRWZXJ0ZXgsXG4gICAgZnJhZ21lbnQ6IGNvbXBpbGVkRnJhZ21lbnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlQ2FjaGVJZCh0ZW1wbGF0ZSwgYml0cykge1xuICByZXR1cm4gYml0cy5tYXAoKGhpZ2hGcmFnbWVudCkgPT4ge1xuICAgIGlmICghYml0Q2FjaGVNYXAuaGFzKGhpZ2hGcmFnbWVudCkpIHtcbiAgICAgIGJpdENhY2hlTWFwLnNldChoaWdoRnJhZ21lbnQsIENBQ0hFX1VJRCsrKTtcbiAgICB9XG4gICAgcmV0dXJuIGJpdENhY2hlTWFwLmdldChoaWdoRnJhZ21lbnQpO1xuICB9KS5zb3J0KChhLCBiKSA9PiBhIC0gYikuam9pbihcIi1cIikgKyB0ZW1wbGF0ZS52ZXJ0ZXggKyB0ZW1wbGF0ZS5mcmFnbWVudDtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVCaXRzKHZlcnRleCwgZnJhZ21lbnQsIGJpdHMpIHtcbiAgY29uc3QgdmVydGV4UGFydHMgPSBjb21waWxlSG9va3ModmVydGV4KTtcbiAgY29uc3QgZnJhZ21lbnRQYXJ0cyA9IGNvbXBpbGVIb29rcyhmcmFnbWVudCk7XG4gIGJpdHMuZm9yRWFjaCgoc2hhZGVyQml0KSA9PiB7XG4gICAgYWRkQml0cyhzaGFkZXJCaXQudmVydGV4LCB2ZXJ0ZXhQYXJ0cywgc2hhZGVyQml0Lm5hbWUpO1xuICAgIGFkZEJpdHMoc2hhZGVyQml0LmZyYWdtZW50LCBmcmFnbWVudFBhcnRzLCBzaGFkZXJCaXQubmFtZSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHZlcnRleDogaW5qZWN0Qml0cyh2ZXJ0ZXgsIHZlcnRleFBhcnRzKSxcbiAgICBmcmFnbWVudDogaW5qZWN0Qml0cyhmcmFnbWVudCwgZnJhZ21lbnRQYXJ0cylcbiAgfTtcbn1cblxuZXhwb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXIsIGNvbXBpbGVIaWdoU2hhZGVyR2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVIaWdoU2hhZGVyLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdmVydGV4R1BVVGVtcGxhdGUgPSAoXG4gIC8qIHdnc2wgKi9cbiAgYFxuICAgIEBpbiBhUG9zaXRpb246IHZlYzI8ZjMyPjtcbiAgICBAaW4gYVVWOiB2ZWMyPGYzMj47XG5cbiAgICBAb3V0IEBidWlsdGluKHBvc2l0aW9uKSB2UG9zaXRpb246IHZlYzQ8ZjMyPjtcbiAgICBAb3V0IHZVViA6IHZlYzI8ZjMyPjtcbiAgICBAb3V0IHZDb2xvciA6IHZlYzQ8ZjMyPjtcblxuICAgIHt7aGVhZGVyfX1cblxuICAgIHN0cnVjdCBWU091dHB1dCB7XG4gICAgICAgIHt7c3RydWN0fX1cbiAgICB9O1xuXG4gICAgQHZlcnRleFxuICAgIGZuIG1haW4oIHt7aW59fSApIC0+IFZTT3V0cHV0IHtcblxuICAgICAgICB2YXIgd29ybGRUcmFuc2Zvcm1NYXRyaXggPSBnbG9iYWxVbmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIHZhciBtb2RlbE1hdHJpeCA9IG1hdDN4MzxmMzI+KFxuICAgICAgICAgICAgMS4wLCAwLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMS4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDAuMCwgMS4wXG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gYVBvc2l0aW9uO1xuICAgICAgICB2YXIgdXYgPSBhVVY7XG5cbiAgICAgICAge3tzdGFydH19XG4gICAgICAgIFxuICAgICAgICB2Q29sb3IgPSB2ZWM0PGYzMj4oMS4sIDEuLCAxLiwgMS4pO1xuXG4gICAgICAgIHt7bWFpbn19XG5cbiAgICAgICAgdlVWID0gdXY7XG5cbiAgICAgICAgdmFyIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggPSBnbG9iYWxVbmlmb3Jtcy51UHJvamVjdGlvbk1hdHJpeCAqIHdvcmxkVHJhbnNmb3JtTWF0cml4ICogbW9kZWxNYXRyaXg7XG5cbiAgICAgICAgdlBvc2l0aW9uID0gIHZlYzQ8ZjMyPigobW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCAqICB2ZWMzPGYzMj4ocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgICAgXG4gICAgICAgIHZDb2xvciAqPSBnbG9iYWxVbmlmb3Jtcy51V29ybGRDb2xvckFscGhhO1xuXG4gICAgICAgIHt7ZW5kfX1cblxuICAgICAgICB7e3JldHVybn19XG4gICAgfTtcbmBcbik7XG5jb25zdCBmcmFnbWVudEdQVVRlbXBsYXRlID0gKFxuICAvKiB3Z3NsICovXG4gIGBcbiAgICBAaW4gdlVWIDogdmVjMjxmMzI+O1xuICAgIEBpbiB2Q29sb3IgOiB2ZWM0PGYzMj47XG4gICBcbiAgICB7e2hlYWRlcn19XG5cbiAgICBAZnJhZ21lbnRcbiAgICBmbiBtYWluKFxuICAgICAgICB7e2lufX1cbiAgICAgICkgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XG4gICAgICAgIFxuICAgICAgICB7e3N0YXJ0fX1cblxuICAgICAgICB2YXIgb3V0Q29sb3I6dmVjNDxmMzI+O1xuICAgICAgXG4gICAgICAgIHt7bWFpbn19XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3V0Q29sb3IgKiB2Q29sb3I7XG4gICAgICB9O1xuYFxuKTtcbmNvbnN0IHZlcnRleEdsVGVtcGxhdGUgPSAoXG4gIC8qIGdsc2wgKi9cbiAgYFxuICAgIGluIHZlYzIgYVBvc2l0aW9uO1xuICAgIGluIHZlYzIgYVVWO1xuXG4gICAgb3V0IHZlYzQgdkNvbG9yO1xuICAgIG91dCB2ZWMyIHZVVjtcblxuICAgIHt7aGVhZGVyfX1cblxuICAgIHZvaWQgbWFpbih2b2lkKXtcblxuICAgICAgICBtYXQzIHdvcmxkVHJhbnNmb3JtTWF0cml4ID0gdVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBtYXQzIG1vZGVsTWF0cml4ID0gbWF0MyhcbiAgICAgICAgICAgIDEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEuMFxuICAgICAgICAgICk7XG4gICAgICAgIHZlYzIgcG9zaXRpb24gPSBhUG9zaXRpb247XG4gICAgICAgIHZlYzIgdXYgPSBhVVY7XG4gICAgICAgIFxuICAgICAgICB7e3N0YXJ0fX1cbiAgICAgICAgXG4gICAgICAgIHZDb2xvciA9IHZlYzQoMS4pO1xuICAgICAgICBcbiAgICAgICAge3ttYWlufX1cbiAgICAgICAgXG4gICAgICAgIHZVViA9IHV2O1xuICAgICAgICBcbiAgICAgICAgbWF0MyBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4ID0gdVByb2plY3Rpb25NYXRyaXggKiB3b3JsZFRyYW5zZm9ybU1hdHJpeCAqIG1vZGVsTWF0cml4O1xuXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgobW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG5cbiAgICAgICAgdkNvbG9yICo9IHVXb3JsZENvbG9yQWxwaGE7XG5cbiAgICAgICAge3tlbmR9fVxuICAgIH1cbmBcbik7XG5jb25zdCBmcmFnbWVudEdsVGVtcGxhdGUgPSAoXG4gIC8qIGdsc2wgKi9cbiAgYFxuICAgXG4gICAgaW4gdmVjNCB2Q29sb3I7XG4gICAgaW4gdmVjMiB2VVY7XG5cbiAgICBvdXQgdmVjNCBmaW5hbENvbG9yO1xuXG4gICAge3toZWFkZXJ9fVxuXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgICAgXG4gICAgICAgIHt7c3RhcnR9fVxuXG4gICAgICAgIHZlYzQgb3V0Q29sb3I7XG4gICAgICBcbiAgICAgICAge3ttYWlufX1cbiAgICAgICAgXG4gICAgICAgIGZpbmFsQ29sb3IgPSBvdXRDb2xvciAqIHZDb2xvcjtcbiAgICB9XG5gXG4pO1xuXG5leHBvcnQgeyBmcmFnbWVudEdQVVRlbXBsYXRlLCBmcmFnbWVudEdsVGVtcGxhdGUsIHZlcnRleEdQVVRlbXBsYXRlLCB2ZXJ0ZXhHbFRlbXBsYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZ2xvYmFsVW5pZm9ybXNCaXQgPSB7XG4gIG5hbWU6IFwiZ2xvYmFsLXVuaWZvcm1zLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgc3RydWN0IEdsb2JhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgIHVQcm9qZWN0aW9uTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgdVdvcmxkVHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgdVdvcmxkQ29sb3JBbHBoYTogdmVjNDxmMzI+LFxuICAgICAgICAgICAgdVJlc29sdXRpb246IHZlYzI8ZjMyPixcbiAgICAgICAgfVxuXG4gICAgICAgIEBncm91cCgwKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZ2xvYmFsVW5pZm9ybXMgOiBHbG9iYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGdsb2JhbFVuaWZvcm1zVUJPQml0R2wgPSB7XG4gIG5hbWU6IFwiZ2xvYmFsLXVuaWZvcm1zLXViby1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgdW5pZm9ybSBnbG9iYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICBtYXQzIHVQcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICAgICAgbWF0MyB1V29ybGRUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICB2ZWM0IHVXb3JsZENvbG9yQWxwaGE7XG4gICAgICAgICAgICB2ZWMyIHVSZXNvbHV0aW9uO1xuICAgICAgICAgIH07XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBnbG9iYWxVbmlmb3Jtc0JpdEdsID0ge1xuICBuYW1lOiBcImdsb2JhbC11bmlmb3Jtcy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgdW5pZm9ybSBtYXQzIHVQcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICAgIHVuaWZvcm0gbWF0MyB1V29ybGRUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgdW5pZm9ybSB2ZWM0IHVXb3JsZENvbG9yQWxwaGE7XG4gICAgICAgICAgdW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBnbG9iYWxVbmlmb3Jtc0JpdCwgZ2xvYmFsVW5pZm9ybXNCaXRHbCwgZ2xvYmFsVW5pZm9ybXNVQk9CaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2xvYmFsVW5pZm9ybXNCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSGlnaFNoYWRlciwgY29tcGlsZUhpZ2hTaGFkZXJHbCB9IGZyb20gJy4vY29tcGlsZXIvY29tcGlsZUhpZ2hTaGFkZXIubWpzJztcbmltcG9ydCB7IGZyYWdtZW50R1BVVGVtcGxhdGUsIHZlcnRleEdQVVRlbXBsYXRlLCB2ZXJ0ZXhHbFRlbXBsYXRlLCBmcmFnbWVudEdsVGVtcGxhdGUgfSBmcm9tICcuL2RlZmF1bHRQcm9ncmFtVGVtcGxhdGUubWpzJztcbmltcG9ydCB7IGdsb2JhbFVuaWZvcm1zQml0LCBnbG9iYWxVbmlmb3Jtc0JpdEdsIH0gZnJvbSAnLi9zaGFkZXItYml0cy9nbG9iYWxVbmlmb3Jtc0JpdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7IGJpdHMsIG5hbWUgfSkge1xuICBjb25zdCBzb3VyY2UgPSBjb21waWxlSGlnaFNoYWRlcih7XG4gICAgdGVtcGxhdGU6IHtcbiAgICAgIGZyYWdtZW50OiBmcmFnbWVudEdQVVRlbXBsYXRlLFxuICAgICAgdmVydGV4OiB2ZXJ0ZXhHUFVUZW1wbGF0ZVxuICAgIH0sXG4gICAgYml0czogW1xuICAgICAgZ2xvYmFsVW5pZm9ybXNCaXQsXG4gICAgICAuLi5iaXRzXG4gICAgXVxuICB9KTtcbiAgcmV0dXJuIEdwdVByb2dyYW0uZnJvbSh7XG4gICAgbmFtZSxcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIHNvdXJjZTogc291cmNlLnZlcnRleCxcbiAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblwiXG4gICAgfSxcbiAgICBmcmFnbWVudDoge1xuICAgICAgc291cmNlOiBzb3VyY2UuZnJhZ21lbnQsXG4gICAgICBlbnRyeVBvaW50OiBcIm1haW5cIlxuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSh7IGJpdHMsIG5hbWUgfSkge1xuICByZXR1cm4gbmV3IEdsUHJvZ3JhbSh7XG4gICAgbmFtZSxcbiAgICAuLi5jb21waWxlSGlnaFNoYWRlckdsKHtcbiAgICAgIHRlbXBsYXRlOiB7XG4gICAgICAgIHZlcnRleDogdmVydGV4R2xUZW1wbGF0ZSxcbiAgICAgICAgZnJhZ21lbnQ6IGZyYWdtZW50R2xUZW1wbGF0ZVxuICAgICAgfSxcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXNCaXRHbCxcbiAgICAgICAgLi4uYml0c1xuICAgICAgXVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlSGlnaFNoYWRlclRvUHJvZ3JhbS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8157\n')},2110:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   M: () => (/* binding */ colorBit),\n/* harmony export */   T: () => (/* binding */ colorBitGl)\n/* harmony export */ });\n\nconst colorBit = {\n  name: "color-bit",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            @in aColor: vec4<f32>;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        `\n    )\n  }\n};\nconst colorBitGl = {\n  name: "color-bit",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n            in vec4 aColor;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        `\n    )\n  }\n};\n\n\n//# sourceMappingURL=colorBit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjExMC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9jb2xvckJpdC5tanM/ZTcwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGNvbG9yQml0ID0ge1xuICBuYW1lOiBcImNvbG9yLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIEBpbiBhQ29sb3I6IHZlYzQ8ZjMyPjtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHZlYzQ8ZjMyPihhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGNvbG9yQml0R2wgPSB7XG4gIG5hbWU6IFwiY29sb3ItYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaW4gdmVjNCBhQ29sb3I7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB2ZWM0KGFDb2xvci5yZ2IgKiBhQ29sb3IuYSwgYUNvbG9yLmEpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBjb2xvckJpdCwgY29sb3JCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JCaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2110\n')},6600:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   h: () => (/* binding */ generateTextureBatchBitGl),\n/* harmony export */   m: () => (/* binding */ generateTextureBatchBit)\n/* harmony export */ });\n\nconst textureBatchBitGpuCache = {};\nfunction generateBindingSrc(maxTextures) {\n  const src = [];\n  if (maxTextures === 1) {\n    src.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;");\n    src.push("@group(1) @binding(1) var textureSampler1: sampler;");\n  } else {\n    let bindingIndex = 0;\n    for (let i = 0; i < maxTextures; i++) {\n      src.push(`@group(1) @binding(${bindingIndex++}) var textureSource${i + 1}: texture_2d<f32>;`);\n      src.push(`@group(1) @binding(${bindingIndex++}) var textureSampler${i + 1}: sampler;`);\n    }\n  }\n  return src.join("\\n");\n}\nfunction generateSampleSrc(maxTextures) {\n  const src = [];\n  if (maxTextures === 1) {\n    src.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");\n  } else {\n    src.push("switch vTextureId {");\n    for (let i = 0; i < maxTextures; i++) {\n      if (i === maxTextures - 1) {\n        src.push(`  default:{`);\n      } else {\n        src.push(`  case ${i}:{`);\n      }\n      src.push(`      outColor = textureSampleGrad(textureSource${i + 1}, textureSampler${i + 1}, vUV, uvDx, uvDy);`);\n      src.push(`      break;}`);\n    }\n    src.push(`}`);\n  }\n  return src.join("\\n");\n}\nfunction generateTextureBatchBit(maxTextures) {\n  if (!textureBatchBitGpuCache[maxTextures]) {\n    textureBatchBitGpuCache[maxTextures] = {\n      name: "texture-batch-bit",\n      vertex: {\n        header: `\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            `,\n        main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n        end: `\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            `\n      },\n      fragment: {\n        header: `\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${generateBindingSrc(maxTextures)}\n            `,\n        main: `\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${generateSampleSrc(maxTextures)}\n            `\n      }\n    };\n  }\n  return textureBatchBitGpuCache[maxTextures];\n}\nconst textureBatchBitGlCache = {};\nfunction generateSampleGlSrc(maxTextures) {\n  const src = [];\n  for (let i = 0; i < maxTextures; i++) {\n    if (i > 0) {\n      src.push("else");\n    }\n    if (i < maxTextures - 1) {\n      src.push(`if(vTextureId < ${i}.5)`);\n    }\n    src.push("{");\n    src.push(`\toutColor = texture(uTextures[${i}], vUV);`);\n    src.push("}");\n  }\n  return src.join("\\n");\n}\nfunction generateTextureBatchBitGl(maxTextures) {\n  if (!textureBatchBitGlCache[maxTextures]) {\n    textureBatchBitGlCache[maxTextures] = {\n      name: "texture-batch-bit",\n      vertex: {\n        header: `\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            `,\n        main: `\n                vTextureId = aTextureIdAndRound.y;\n            `,\n        end: `\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            `\n      },\n      fragment: {\n        header: `\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${maxTextures}];\n\n            `,\n        main: `\n\n                ${generateSampleGlSrc(maxTextures)}\n            `\n      }\n    };\n  }\n  return textureBatchBitGlCache[maxTextures];\n}\n\n\n//# sourceMappingURL=generateTextureBatchBit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjYwMC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RSxpRUFBaUU7QUFDakUsSUFBSTtBQUNKO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQyxxQ0FBcUMsZUFBZSxxQkFBcUIsTUFBTSxrQkFBa0I7QUFDakcscUNBQXFDLGVBQWUsc0JBQXNCLE1BQU0sVUFBVTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RjtBQUM3RixJQUFJO0FBQ0osaUNBQWlDO0FBQ2pDLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQSw2QkFBNkI7QUFDN0IsUUFBUTtBQUNSLDJCQUEyQixFQUFFLEVBQUU7QUFDL0I7QUFDQSxrRUFBa0UsTUFBTSxrQkFBa0IsTUFBTSxtQkFBbUI7QUFDbkgsNkJBQTZCO0FBQzdCO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLEVBQUU7QUFDcEM7QUFDQSxlQUFlO0FBQ2YsOENBQThDLEVBQUUsUUFBUTtBQUN4RCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUEsOENBQThDLFlBQVk7O0FBRTFEO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFOEQ7QUFDOUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9nZW5lcmF0ZVRleHR1cmVCYXRjaEJpdC5tanM/OWM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRleHR1cmVCYXRjaEJpdEdwdUNhY2hlID0ge307XG5mdW5jdGlvbiBnZW5lcmF0ZUJpbmRpbmdTcmMobWF4VGV4dHVyZXMpIHtcbiAgY29uc3Qgc3JjID0gW107XG4gIGlmIChtYXhUZXh0dXJlcyA9PT0gMSkge1xuICAgIHNyYy5wdXNoKFwiQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhciB0ZXh0dXJlU291cmNlMTogdGV4dHVyZV8yZDxmMzI+O1wiKTtcbiAgICBzcmMucHVzaChcIkBncm91cCgxKSBAYmluZGluZygxKSB2YXIgdGV4dHVyZVNhbXBsZXIxOiBzYW1wbGVyO1wiKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgYmluZGluZ0luZGV4ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgIHNyYy5wdXNoKGBAZ3JvdXAoMSkgQGJpbmRpbmcoJHtiaW5kaW5nSW5kZXgrK30pIHZhciB0ZXh0dXJlU291cmNlJHtpICsgMX06IHRleHR1cmVfMmQ8ZjMyPjtgKTtcbiAgICAgIHNyYy5wdXNoKGBAZ3JvdXAoMSkgQGJpbmRpbmcoJHtiaW5kaW5nSW5kZXgrK30pIHZhciB0ZXh0dXJlU2FtcGxlciR7aSArIDF9OiBzYW1wbGVyO2ApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3JjLmpvaW4oXCJcXG5cIik7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykge1xuICBjb25zdCBzcmMgPSBbXTtcbiAgaWYgKG1heFRleHR1cmVzID09PSAxKSB7XG4gICAgc3JjLnB1c2goXCJvdXRDb2xvciA9IHRleHR1cmVTYW1wbGVHcmFkKHRleHR1cmVTb3VyY2UxLCB0ZXh0dXJlU2FtcGxlcjEsIHZVViwgdXZEeCwgdXZEeSk7XCIpO1xuICB9IGVsc2Uge1xuICAgIHNyYy5wdXNoKFwic3dpdGNoIHZUZXh0dXJlSWQge1wiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgIGlmIChpID09PSBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgc3JjLnB1c2goYCAgZGVmYXVsdDp7YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcmMucHVzaChgICBjYXNlICR7aX06e2ApO1xuICAgICAgfVxuICAgICAgc3JjLnB1c2goYCAgICAgIG91dENvbG9yID0gdGV4dHVyZVNhbXBsZUdyYWQodGV4dHVyZVNvdXJjZSR7aSArIDF9LCB0ZXh0dXJlU2FtcGxlciR7aSArIDF9LCB2VVYsIHV2RHgsIHV2RHkpO2ApO1xuICAgICAgc3JjLnB1c2goYCAgICAgIGJyZWFrO31gKTtcbiAgICB9XG4gICAgc3JjLnB1c2goYH1gKTtcbiAgfVxuICByZXR1cm4gc3JjLmpvaW4oXCJcXG5cIik7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdChtYXhUZXh0dXJlcykge1xuICBpZiAoIXRleHR1cmVCYXRjaEJpdEdwdUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgIHRleHR1cmVCYXRjaEJpdEdwdUNhY2hlW21heFRleHR1cmVzXSA9IHtcbiAgICAgIG5hbWU6IFwidGV4dHVyZS1iYXRjaC1iaXRcIixcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBoZWFkZXI6IGBcbiAgICAgICAgICAgICAgICBAaW4gYVRleHR1cmVJZEFuZFJvdW5kOiB2ZWMyPHUzMj47XG4gICAgICAgICAgICAgICAgQG91dCBAaW50ZXJwb2xhdGUoZmxhdCkgdlRleHR1cmVJZCA6IHUzMjtcbiAgICAgICAgICAgIGAsXG4gICAgICAgIG1haW46IGBcbiAgICAgICAgICAgICAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZEFuZFJvdW5kLnk7XG4gICAgICAgICAgICBgLFxuICAgICAgICBlbmQ6IGBcbiAgICAgICAgICAgICAgICBpZihhVGV4dHVyZUlkQW5kUm91bmQueCA9PSAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNDxmMzI+KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGBcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBoZWFkZXI6IGBcbiAgICAgICAgICAgICAgICBAaW4gQGludGVycG9sYXRlKGZsYXQpIHZUZXh0dXJlSWQ6IHUzMjtcblxuICAgICAgICAgICAgICAgICR7Z2VuZXJhdGVCaW5kaW5nU3JjKG1heFRleHR1cmVzKX1cbiAgICAgICAgICAgIGAsXG4gICAgICAgIG1haW46IGBcbiAgICAgICAgICAgICAgICB2YXIgdXZEeCA9IGRwZHgodlVWKTtcbiAgICAgICAgICAgICAgICB2YXIgdXZEeSA9IGRwZHkodlVWKTtcblxuICAgICAgICAgICAgICAgICR7Z2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpfVxuICAgICAgICAgICAgYFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHRleHR1cmVCYXRjaEJpdEdwdUNhY2hlW21heFRleHR1cmVzXTtcbn1cbmNvbnN0IHRleHR1cmVCYXRjaEJpdEdsQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlR2xTcmMobWF4VGV4dHVyZXMpIHtcbiAgY29uc3Qgc3JjID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgIGlmIChpID4gMCkge1xuICAgICAgc3JjLnB1c2goXCJlbHNlXCIpO1xuICAgIH1cbiAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgc3JjLnB1c2goYGlmKHZUZXh0dXJlSWQgPCAke2l9LjUpYCk7XG4gICAgfVxuICAgIHNyYy5wdXNoKFwie1wiKTtcbiAgICBzcmMucHVzaChgXHRvdXRDb2xvciA9IHRleHR1cmUodVRleHR1cmVzWyR7aX1dLCB2VVYpO2ApO1xuICAgIHNyYy5wdXNoKFwifVwiKTtcbiAgfVxuICByZXR1cm4gc3JjLmpvaW4oXCJcXG5cIik7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsKG1heFRleHR1cmVzKSB7XG4gIGlmICghdGV4dHVyZUJhdGNoQml0R2xDYWNoZVttYXhUZXh0dXJlc10pIHtcbiAgICB0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlW21heFRleHR1cmVzXSA9IHtcbiAgICAgIG5hbWU6IFwidGV4dHVyZS1iYXRjaC1iaXRcIixcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBoZWFkZXI6IGBcbiAgICAgICAgICAgICAgICBpbiB2ZWMyIGFUZXh0dXJlSWRBbmRSb3VuZDtcbiAgICAgICAgICAgICAgICBvdXQgZmxvYXQgdlRleHR1cmVJZDtcblxuICAgICAgICAgICAgYCxcbiAgICAgICAgbWFpbjogYFxuICAgICAgICAgICAgICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkQW5kUm91bmQueTtcbiAgICAgICAgICAgIGAsXG4gICAgICAgIGVuZDogYFxuICAgICAgICAgICAgICAgIGlmKGFUZXh0dXJlSWRBbmRSb3VuZC54ID09IDEuKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGBcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBoZWFkZXI6IGBcbiAgICAgICAgICAgICAgICBpbiBmbG9hdCB2VGV4dHVyZUlkO1xuXG4gICAgICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmVzWyR7bWF4VGV4dHVyZXN9XTtcblxuICAgICAgICAgICAgYCxcbiAgICAgICAgbWFpbjogYFxuXG4gICAgICAgICAgICAgICAgJHtnZW5lcmF0ZVNhbXBsZUdsU3JjKG1heFRleHR1cmVzKX1cbiAgICAgICAgICAgIGBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlW21heFRleHR1cmVzXTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQsIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlVGV4dHVyZUJhdGNoQml0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6600\n')},8070:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $g: () => (/* binding */ localUniformBitGl),\n/* harmony export */   Kt: () => (/* binding */ localUniformBitGroup2),\n/* harmony export */   XH: () => (/* binding */ localUniformBit)\n/* harmony export */ });\n\nconst localUniformBit = {\n  name: "local-uniform-bit",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `\n    ),\n    main: (\n      /* wgsl */\n      `\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `\n    ),\n    end: (\n      /* wgsl */\n      `\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    )\n  }\n};\nconst localUniformBitGroup2 = {\n  ...localUniformBit,\n  vertex: {\n    ...localUniformBit.vertex,\n    // replace the group!\n    header: localUniformBit.vertex.header.replace("group(1)", "group(2)")\n  }\n};\nconst localUniformBitGl = {\n  name: "local-uniform-bit",\n  vertex: {\n    header: (\n      /* glsl */\n      `\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        `\n    ),\n    main: (\n      /* glsl */\n      `\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        `\n    ),\n    end: (\n      /* glsl */\n      `\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        `\n    )\n  }\n};\n\n\n//# sourceMappingURL=localUniformBit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA3MC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxRTtBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanM/MTVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R3JvdXAyID0ge1xuICAuLi5sb2NhbFVuaWZvcm1CaXQsXG4gIHZlcnRleDoge1xuICAgIC4uLmxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXgsXG4gICAgLy8gcmVwbGFjZSB0aGUgZ3JvdXAhXG4gICAgaGVhZGVyOiBsb2NhbFVuaWZvcm1CaXQudmVydGV4LmhlYWRlci5yZXBsYWNlKFwiZ3JvdXAoMSlcIiwgXCJncm91cCgyKVwiKVxuICB9XG59O1xuY29uc3QgbG9jYWxVbmlmb3JtQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggPSB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKHVSb3VuZCA9PSAxLilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wsIGxvY2FsVW5pZm9ybUJpdEdyb3VwMiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxVbmlmb3JtQml0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8070\n')},9637:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   X: () => (/* binding */ roundPixelsBitGl),\n/* harmony export */   j: () => (/* binding */ roundPixelsBit)\n/* harmony export */ });\n\nconst roundPixelsBit = {\n  name: "round-pixels-bit",\n  vertex: {\n    header: (\n      /* wgsl */\n      `\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    )\n  }\n};\nconst roundPixelsBitGl = {\n  name: "round-pixels-bit",\n  vertex: {\n    header: (\n      /* glsl */\n      `   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        `\n    )\n  }\n};\n\n\n//# sourceMappingURL=roundPixelsBit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTYzNy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEM7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanM/NDU1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHJvdW5kUGl4ZWxzQml0ID0ge1xuICBuYW1lOiBcInJvdW5kLXBpeGVscy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBmbiByb3VuZFBpeGVscyhwb3NpdGlvbjogdmVjMjxmMzI+LCB0YXJnZXRTaXplOiB2ZWMyPGYzMj4pIC0+IHZlYzI8ZjMyPiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGZsb29yKCgocG9zaXRpb24gKiAwLjUgKyAwLjUpICogdGFyZ2V0U2l6ZSkgKyAwLjUpIC8gdGFyZ2V0U2l6ZSkgKiAyLjAgLSAxLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCByb3VuZFBpeGVsc0JpdEdsID0ge1xuICBuYW1lOiBcInJvdW5kLXBpeGVscy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgICAgXG4gICAgICAgICAgICB2ZWMyIHJvdW5kUGl4ZWxzKHZlYzIgcG9zaXRpb24sIHZlYzIgdGFyZ2V0U2l6ZSlcbiAgICAgICAgICAgIHsgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIChmbG9vcigoKHBvc2l0aW9uICogMC41ICsgMC41KSAqIHRhcmdldFNpemUpICsgMC41KSAvIHRhcmdldFNpemUpICogMi4wIC0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91bmRQaXhlbHNCaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9637\n')},749:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  J: () => (/* binding */ GlProgram)\n});\n\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/utils/createIdFromString.mjs\nvar createIdFromString = __webpack_require__(8460);\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getTestContext.mjs\nvar getTestContext = __webpack_require__(8407);\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getMaxFragmentPrecision.mjs\n\n\n"use strict";\nlet maxFragmentPrecision;\nfunction getMaxFragmentPrecision() {\n  if (!maxFragmentPrecision) {\n    maxFragmentPrecision = "mediump";\n    const gl = (0,getTestContext/* getTestContext */.K)();\n    if (gl) {\n      if (gl.getShaderPrecisionFormat) {\n        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n        maxFragmentPrecision = shaderFragment.precision ? "highp" : "mediump";\n      }\n    }\n  }\n  return maxFragmentPrecision;\n}\n\n\n//# sourceMappingURL=getMaxFragmentPrecision.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/addProgramDefines.mjs\n\nfunction addProgramDefines(src, isES300, isFragment) {\n  if (isES300)\n    return src;\n  if (isFragment) {\n    src = src.replace("out vec4 finalColor;", "");\n    return `\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${src}\n        `;\n  }\n  return `\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${src}\n        `;\n}\n\n\n//# sourceMappingURL=addProgramDefines.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/ensurePrecision.mjs\n\nfunction ensurePrecision(src, options, isFragment) {\n  const maxSupportedPrecision = isFragment ? options.maxSupportedFragmentPrecision : options.maxSupportedVertexPrecision;\n  if (src.substring(0, 9) !== "precision") {\n    let precision = isFragment ? options.requestedFragmentPrecision : options.requestedVertexPrecision;\n    if (precision === "highp" && maxSupportedPrecision !== "highp") {\n      precision = "mediump";\n    }\n    return `precision ${precision} float;\n${src}`;\n  } else if (maxSupportedPrecision !== "highp" && src.substring(0, 15) === "precision highp") {\n    return src.replace("precision highp", "precision mediump");\n  }\n  return src;\n}\n\n\n//# sourceMappingURL=ensurePrecision.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/insertVersion.mjs\n\nfunction insertVersion(src, isES300) {\n  if (!isES300)\n    return src;\n  return `#version 300 es\n${src}`;\n}\n\n\n//# sourceMappingURL=insertVersion.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/setProgramName.mjs\n\nconst fragmentNameCache = {};\nconst VertexNameCache = {};\nfunction setProgramName(src, { name = `pixi-program` }, isFragment = true) {\n  name = name.replace(/\\s+/g, "-");\n  name += isFragment ? "-fragment" : "-vertex";\n  const nameCache = isFragment ? fragmentNameCache : VertexNameCache;\n  if (nameCache[name]) {\n    nameCache[name]++;\n    name += `-${nameCache[name]}`;\n  } else {\n    nameCache[name] = 1;\n  }\n  if (src.indexOf("#define SHADER_NAME") !== -1)\n    return src;\n  const shaderName = `#define SHADER_NAME ${name}`;\n  return `${shaderName}\n${src}`;\n}\n\n\n//# sourceMappingURL=setProgramName.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/preprocessors/stripVersion.mjs\n\nfunction stripVersion(src, isES300) {\n  if (!isES300)\n    return src;\n  return src.replace("#version 300 es", "");\n}\n\n\n//# sourceMappingURL=stripVersion.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlProgram.mjs\n\n\n\n\n\n\n\n\n"use strict";\nconst processes = {\n  // strips any version headers..\n  stripVersion: stripVersion,\n  // adds precision string if not already present\n  ensurePrecision: ensurePrecision,\n  // add some defines if WebGL1 to make it more compatible with WebGL2 shaders\n  addProgramDefines: addProgramDefines,\n  // add the program name to the shader\n  setProgramName: setProgramName,\n  // add the version string to the shader header\n  insertVersion: insertVersion\n};\nconst programCache = /* @__PURE__ */ Object.create(null);\nconst _GlProgram = class _GlProgram {\n  /**\n   * Creates a shiny new GlProgram. Used by WebGL renderer.\n   * @param options - The options for the program.\n   */\n  constructor(options) {\n    options = { ..._GlProgram.defaultOptions, ...options };\n    const isES300 = options.fragment.indexOf("#version 300 es") !== -1;\n    const preprocessorOptions = {\n      stripVersion: isES300,\n      ensurePrecision: {\n        requestedFragmentPrecision: options.preferredFragmentPrecision,\n        requestedVertexPrecision: options.preferredVertexPrecision,\n        maxSupportedVertexPrecision: "highp",\n        maxSupportedFragmentPrecision: getMaxFragmentPrecision()\n      },\n      setProgramName: {\n        name: options.name\n      },\n      addProgramDefines: isES300,\n      insertVersion: isES300\n    };\n    let fragment = options.fragment;\n    let vertex = options.vertex;\n    Object.keys(processes).forEach((processKey) => {\n      const processOptions = preprocessorOptions[processKey];\n      fragment = processes[processKey](fragment, processOptions, true);\n      vertex = processes[processKey](vertex, processOptions, false);\n    });\n    this.fragment = fragment;\n    this.vertex = vertex;\n    this._key = (0,createIdFromString/* createIdFromString */.Z)(`${this.vertex}:${this.fragment}`, "gl-program");\n  }\n  /** destroys the program */\n  destroy() {\n    this.fragment = null;\n    this.vertex = null;\n    this._attributeData = null;\n    this._uniformData = null;\n    this._uniformBlockData = null;\n    this.transformFeedbackVaryings = null;\n  }\n  /**\n   * Helper function that creates a program for a given source.\n   * It will check the program cache if the program has already been created.\n   * If it has that one will be returned, if not a new one will be created and cached.\n   * @param options - The options for the program.\n   * @returns A program using the same source\n   */\n  static from(options) {\n    const key = `${options.vertex}:${options.fragment}`;\n    if (!programCache[key]) {\n      programCache[key] = new _GlProgram(options);\n    }\n    return programCache[key];\n  }\n};\n/** The default options used by the program. */\n_GlProgram.defaultOptions = {\n  preferredVertexPrecision: "highp",\n  preferredFragmentPrecision: "mediump"\n};\nlet GlProgram = _GlProgram;\n\n\n//# sourceMappingURL=GlProgram.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3Q0FBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW1DO0FBQ25DOzs7QUNuQmE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRTZCO0FBQzdCOzs7QUMzQmE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DLEVBQUUsSUFBSTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFMkI7QUFDM0I7OztBQ2pCYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ047O0FBRXlCO0FBQ3pCOzs7QUNUYTtBQUNiO0FBQ0E7QUFDQSwrQkFBK0IsdUJBQXVCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxLQUFLO0FBQ2pELFlBQVk7QUFDWixFQUFFLElBQUk7QUFDTjs7QUFFMEI7QUFDMUI7OztBQ3JCYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXdCO0FBQ3hCOzs7QUNSK0U7QUFDQztBQUNFO0FBQ0o7QUFDSjtBQUNFO0FBQ0o7O0FBRXhFO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHVCQUF1QjtBQUM5RCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQixnREFBa0IsSUFBSSxZQUFZLEdBQUcsY0FBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZSxHQUFHLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9wcm9ncmFtL2dldE1heEZyYWdtZW50UHJlY2lzaW9uLm1qcz9hZWQ0Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2FkZFByb2dyYW1EZWZpbmVzLm1qcz85OGJlIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2Vuc3VyZVByZWNpc2lvbi5tanM/YWE5YSIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL3Byb2dyYW0vcHJlcHJvY2Vzc29ycy9pbnNlcnRWZXJzaW9uLm1qcz80NDhmIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL3NldFByb2dyYW1OYW1lLm1qcz9jYTYyIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL3N0cmlwVmVyc2lvbi5tanM/YmE3ZiIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanM/YmYzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUZXN0Q29udGV4dCB9IGZyb20gJy4vZ2V0VGVzdENvbnRleHQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpIHtcbiAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbikge1xuICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gXCJtZWRpdW1wXCI7XG4gICAgY29uc3QgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgIGlmIChnbCkge1xuICAgICAgaWYgKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCkge1xuICAgICAgICBjb25zdCBzaGFkZXJGcmFnbWVudCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFwiaGlnaHBcIiA6IFwibWVkaXVtcFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbmV4cG9ydCB7IGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFkZFByb2dyYW1EZWZpbmVzKHNyYywgaXNFUzMwMCwgaXNGcmFnbWVudCkge1xuICBpZiAoaXNFUzMwMClcbiAgICByZXR1cm4gc3JjO1xuICBpZiAoaXNGcmFnbWVudCkge1xuICAgIHNyYyA9IHNyYy5yZXBsYWNlKFwib3V0IHZlYzQgZmluYWxDb2xvcjtcIiwgXCJcIik7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgXG4gICAgICAgICNpZmRlZiBHTF9FUyAvLyBUaGlzIGNoZWNrcyBpZiBpdCBpcyBXZWJHTDFcbiAgICAgICAgI2RlZmluZSBpbiB2YXJ5aW5nXG4gICAgICAgICNkZWZpbmUgZmluYWxDb2xvciBnbF9GcmFnQ29sb3JcbiAgICAgICAgI2RlZmluZSB0ZXh0dXJlIHRleHR1cmUyRFxuICAgICAgICAjZW5kaWZcbiAgICAgICAgJHtzcmN9XG4gICAgICAgIGA7XG4gIH1cbiAgcmV0dXJuIGBcbiAgICAgICAgXG4gICAgICAgICNpZmRlZiBHTF9FUyAvLyBUaGlzIGNoZWNrcyBpZiBpdCBpcyBXZWJHTDFcbiAgICAgICAgI2RlZmluZSBpbiBhdHRyaWJ1dGVcbiAgICAgICAgI2RlZmluZSBvdXQgdmFyeWluZ1xuICAgICAgICAjZW5kaWZcbiAgICAgICAgJHtzcmN9XG4gICAgICAgIGA7XG59XG5cbmV4cG9ydCB7IGFkZFByb2dyYW1EZWZpbmVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRQcm9ncmFtRGVmaW5lcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGVuc3VyZVByZWNpc2lvbihzcmMsIG9wdGlvbnMsIGlzRnJhZ21lbnQpIHtcbiAgY29uc3QgbWF4U3VwcG9ydGVkUHJlY2lzaW9uID0gaXNGcmFnbWVudCA/IG9wdGlvbnMubWF4U3VwcG9ydGVkRnJhZ21lbnRQcmVjaXNpb24gOiBvcHRpb25zLm1heFN1cHBvcnRlZFZlcnRleFByZWNpc2lvbjtcbiAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09IFwicHJlY2lzaW9uXCIpIHtcbiAgICBsZXQgcHJlY2lzaW9uID0gaXNGcmFnbWVudCA/IG9wdGlvbnMucmVxdWVzdGVkRnJhZ21lbnRQcmVjaXNpb24gOiBvcHRpb25zLnJlcXVlc3RlZFZlcnRleFByZWNpc2lvbjtcbiAgICBpZiAocHJlY2lzaW9uID09PSBcImhpZ2hwXCIgJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBcImhpZ2hwXCIpIHtcbiAgICAgIHByZWNpc2lvbiA9IFwibWVkaXVtcFwiO1xuICAgIH1cbiAgICByZXR1cm4gYHByZWNpc2lvbiAke3ByZWNpc2lvbn0gZmxvYXQ7XG4ke3NyY31gO1xuICB9IGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gXCJoaWdocFwiICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSBcInByZWNpc2lvbiBoaWdocFwiKSB7XG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKFwicHJlY2lzaW9uIGhpZ2hwXCIsIFwicHJlY2lzaW9uIG1lZGl1bXBcIik7XG4gIH1cbiAgcmV0dXJuIHNyYztcbn1cblxuZXhwb3J0IHsgZW5zdXJlUHJlY2lzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnN1cmVQcmVjaXNpb24ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpbnNlcnRWZXJzaW9uKHNyYywgaXNFUzMwMCkge1xuICBpZiAoIWlzRVMzMDApXG4gICAgcmV0dXJuIHNyYztcbiAgcmV0dXJuIGAjdmVyc2lvbiAzMDAgZXNcbiR7c3JjfWA7XG59XG5cbmV4cG9ydCB7IGluc2VydFZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc2VydFZlcnNpb24ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmcmFnbWVudE5hbWVDYWNoZSA9IHt9O1xuY29uc3QgVmVydGV4TmFtZUNhY2hlID0ge307XG5mdW5jdGlvbiBzZXRQcm9ncmFtTmFtZShzcmMsIHsgbmFtZSA9IGBwaXhpLXByb2dyYW1gIH0sIGlzRnJhZ21lbnQgPSB0cnVlKSB7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgXCItXCIpO1xuICBuYW1lICs9IGlzRnJhZ21lbnQgPyBcIi1mcmFnbWVudFwiIDogXCItdmVydGV4XCI7XG4gIGNvbnN0IG5hbWVDYWNoZSA9IGlzRnJhZ21lbnQgPyBmcmFnbWVudE5hbWVDYWNoZSA6IFZlcnRleE5hbWVDYWNoZTtcbiAgaWYgKG5hbWVDYWNoZVtuYW1lXSkge1xuICAgIG5hbWVDYWNoZVtuYW1lXSsrO1xuICAgIG5hbWUgKz0gYC0ke25hbWVDYWNoZVtuYW1lXX1gO1xuICB9IGVsc2Uge1xuICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gIH1cbiAgaWYgKHNyYy5pbmRleE9mKFwiI2RlZmluZSBTSEFERVJfTkFNRVwiKSAhPT0gLTEpXG4gICAgcmV0dXJuIHNyYztcbiAgY29uc3Qgc2hhZGVyTmFtZSA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1gO1xuICByZXR1cm4gYCR7c2hhZGVyTmFtZX1cbiR7c3JjfWA7XG59XG5cbmV4cG9ydCB7IHNldFByb2dyYW1OYW1lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRQcm9ncmFtTmFtZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHN0cmlwVmVyc2lvbihzcmMsIGlzRVMzMDApIHtcbiAgaWYgKCFpc0VTMzAwKVxuICAgIHJldHVybiBzcmM7XG4gIHJldHVybiBzcmMucmVwbGFjZShcIiN2ZXJzaW9uIDMwMCBlc1wiLCBcIlwiKTtcbn1cblxuZXhwb3J0IHsgc3RyaXBWZXJzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpcFZlcnNpb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlSWRGcm9tU3RyaW5nIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzL2NyZWF0ZUlkRnJvbVN0cmluZy5tanMnO1xuaW1wb3J0IHsgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfSBmcm9tICcuL3Byb2dyYW0vZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24ubWpzJztcbmltcG9ydCB7IGFkZFByb2dyYW1EZWZpbmVzIH0gZnJvbSAnLi9wcm9ncmFtL3ByZXByb2Nlc3NvcnMvYWRkUHJvZ3JhbURlZmluZXMubWpzJztcbmltcG9ydCB7IGVuc3VyZVByZWNpc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2Vuc3VyZVByZWNpc2lvbi5tanMnO1xuaW1wb3J0IHsgaW5zZXJ0VmVyc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2luc2VydFZlcnNpb24ubWpzJztcbmltcG9ydCB7IHNldFByb2dyYW1OYW1lIH0gZnJvbSAnLi9wcm9ncmFtL3ByZXByb2Nlc3NvcnMvc2V0UHJvZ3JhbU5hbWUubWpzJztcbmltcG9ydCB7IHN0cmlwVmVyc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL3N0cmlwVmVyc2lvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHByb2Nlc3NlcyA9IHtcbiAgLy8gc3RyaXBzIGFueSB2ZXJzaW9uIGhlYWRlcnMuLlxuICBzdHJpcFZlcnNpb24sXG4gIC8vIGFkZHMgcHJlY2lzaW9uIHN0cmluZyBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gIGVuc3VyZVByZWNpc2lvbixcbiAgLy8gYWRkIHNvbWUgZGVmaW5lcyBpZiBXZWJHTDEgdG8gbWFrZSBpdCBtb3JlIGNvbXBhdGlibGUgd2l0aCBXZWJHTDIgc2hhZGVyc1xuICBhZGRQcm9ncmFtRGVmaW5lcyxcbiAgLy8gYWRkIHRoZSBwcm9ncmFtIG5hbWUgdG8gdGhlIHNoYWRlclxuICBzZXRQcm9ncmFtTmFtZSxcbiAgLy8gYWRkIHRoZSB2ZXJzaW9uIHN0cmluZyB0byB0aGUgc2hhZGVyIGhlYWRlclxuICBpbnNlcnRWZXJzaW9uXG59O1xuY29uc3QgcHJvZ3JhbUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBfR2xQcm9ncmFtID0gY2xhc3MgX0dsUHJvZ3JhbSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2hpbnkgbmV3IEdsUHJvZ3JhbS4gVXNlZCBieSBXZWJHTCByZW5kZXJlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIHByb2dyYW0uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0dsUHJvZ3JhbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGlzRVMzMDAgPSBvcHRpb25zLmZyYWdtZW50LmluZGV4T2YoXCIjdmVyc2lvbiAzMDAgZXNcIikgIT09IC0xO1xuICAgIGNvbnN0IHByZXByb2Nlc3Nvck9wdGlvbnMgPSB7XG4gICAgICBzdHJpcFZlcnNpb246IGlzRVMzMDAsXG4gICAgICBlbnN1cmVQcmVjaXNpb246IHtcbiAgICAgICAgcmVxdWVzdGVkRnJhZ21lbnRQcmVjaXNpb246IG9wdGlvbnMucHJlZmVycmVkRnJhZ21lbnRQcmVjaXNpb24sXG4gICAgICAgIHJlcXVlc3RlZFZlcnRleFByZWNpc2lvbjogb3B0aW9ucy5wcmVmZXJyZWRWZXJ0ZXhQcmVjaXNpb24sXG4gICAgICAgIG1heFN1cHBvcnRlZFZlcnRleFByZWNpc2lvbjogXCJoaWdocFwiLFxuICAgICAgICBtYXhTdXBwb3J0ZWRGcmFnbWVudFByZWNpc2lvbjogZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKVxuICAgICAgfSxcbiAgICAgIHNldFByb2dyYW1OYW1lOiB7XG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZVxuICAgICAgfSxcbiAgICAgIGFkZFByb2dyYW1EZWZpbmVzOiBpc0VTMzAwLFxuICAgICAgaW5zZXJ0VmVyc2lvbjogaXNFUzMwMFxuICAgIH07XG4gICAgbGV0IGZyYWdtZW50ID0gb3B0aW9ucy5mcmFnbWVudDtcbiAgICBsZXQgdmVydGV4ID0gb3B0aW9ucy52ZXJ0ZXg7XG4gICAgT2JqZWN0LmtleXMocHJvY2Vzc2VzKS5mb3JFYWNoKChwcm9jZXNzS2V5KSA9PiB7XG4gICAgICBjb25zdCBwcm9jZXNzT3B0aW9ucyA9IHByZXByb2Nlc3Nvck9wdGlvbnNbcHJvY2Vzc0tleV07XG4gICAgICBmcmFnbWVudCA9IHByb2Nlc3Nlc1twcm9jZXNzS2V5XShmcmFnbWVudCwgcHJvY2Vzc09wdGlvbnMsIHRydWUpO1xuICAgICAgdmVydGV4ID0gcHJvY2Vzc2VzW3Byb2Nlc3NLZXldKHZlcnRleCwgcHJvY2Vzc09wdGlvbnMsIGZhbHNlKTtcbiAgICB9KTtcbiAgICB0aGlzLmZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgdGhpcy52ZXJ0ZXggPSB2ZXJ0ZXg7XG4gICAgdGhpcy5fa2V5ID0gY3JlYXRlSWRGcm9tU3RyaW5nKGAke3RoaXMudmVydGV4fToke3RoaXMuZnJhZ21lbnR9YCwgXCJnbC1wcm9ncmFtXCIpO1xuICB9XG4gIC8qKiBkZXN0cm95cyB0aGUgcHJvZ3JhbSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZnJhZ21lbnQgPSBudWxsO1xuICAgIHRoaXMudmVydGV4ID0gbnVsbDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVEYXRhID0gbnVsbDtcbiAgICB0aGlzLl91bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgdGhpcy5fdW5pZm9ybUJsb2NrRGF0YSA9IG51bGw7XG4gICAgdGhpcy50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHByb2dyYW0gZm9yIGEgZ2l2ZW4gc291cmNlLlxuICAgKiBJdCB3aWxsIGNoZWNrIHRoZSBwcm9ncmFtIGNhY2hlIGlmIHRoZSBwcm9ncmFtIGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZC5cbiAgICogSWYgaXQgaGFzIHRoYXQgb25lIHdpbGwgYmUgcmV0dXJuZWQsIGlmIG5vdCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkIGFuZCBjYWNoZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBwcm9ncmFtLlxuICAgKiBAcmV0dXJucyBBIHByb2dyYW0gdXNpbmcgdGhlIHNhbWUgc291cmNlXG4gICAqL1xuICBzdGF0aWMgZnJvbShvcHRpb25zKSB7XG4gICAgY29uc3Qga2V5ID0gYCR7b3B0aW9ucy52ZXJ0ZXh9OiR7b3B0aW9ucy5mcmFnbWVudH1gO1xuICAgIGlmICghcHJvZ3JhbUNhY2hlW2tleV0pIHtcbiAgICAgIHByb2dyYW1DYWNoZVtrZXldID0gbmV3IF9HbFByb2dyYW0ob3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtQ2FjaGVba2V5XTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIHByb2dyYW0uICovXG5fR2xQcm9ncmFtLmRlZmF1bHRPcHRpb25zID0ge1xuICBwcmVmZXJyZWRWZXJ0ZXhQcmVjaXNpb246IFwiaGlnaHBcIixcbiAgcHJlZmVycmVkRnJhZ21lbnRQcmVjaXNpb246IFwibWVkaXVtcFwiXG59O1xubGV0IEdsUHJvZ3JhbSA9IF9HbFByb2dyYW07XG5cbmV4cG9ydCB7IEdsUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xQcm9ncmFtLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///749\n')},1982:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  O: () => (/* binding */ GpuProgram)\n});\n\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/utils/createIdFromString.mjs\nvar createIdFromString = __webpack_require__(8460);\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat.mjs\nvar getAttributeInfoFromFormat = __webpack_require__(9824);\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/extractAttributesFromGpuProgram.mjs\n\n\n"use strict";\nconst WGSL_TO_VERTEX_TYPES = {\n  f32: "float32",\n  "vec2<f32>": "float32x2",\n  "vec3<f32>": "float32x3",\n  "vec4<f32>": "float32x4",\n  vec2f: "float32x2",\n  vec3f: "float32x3",\n  vec4f: "float32x4",\n  i32: "sint32",\n  "vec2<i32>": "sint32x2",\n  "vec3<i32>": "sint32x3",\n  "vec4<i32>": "sint32x4",\n  u32: "uint32",\n  "vec2<u32>": "uint32x2",\n  "vec3<u32>": "uint32x3",\n  "vec4<u32>": "uint32x4",\n  bool: "uint32",\n  "vec2<bool>": "uint32x2",\n  "vec3<bool>": "uint32x3",\n  "vec4<bool>": "uint32x4"\n};\nfunction extractAttributesFromGpuProgram({ source, entryPoint }) {\n  const results = {};\n  const mainVertStart = source.indexOf(`fn ${entryPoint}`);\n  if (mainVertStart !== -1) {\n    const arrowFunctionStart = source.indexOf("->", mainVertStart);\n    if (arrowFunctionStart !== -1) {\n      const functionArgsSubstring = source.substring(mainVertStart, arrowFunctionStart);\n      const inputsRegex = /@location\\((\\d+)\\)\\s+([a-zA-Z0-9_]+)\\s*:\\s*([a-zA-Z0-9_<>]+)(?:,|\\s|$)/g;\n      let match;\n      while ((match = inputsRegex.exec(functionArgsSubstring)) !== null) {\n        const format = WGSL_TO_VERTEX_TYPES[match[3]] ?? "float32";\n        results[match[2]] = {\n          location: parseInt(match[1], 10),\n          format,\n          stride: (0,getAttributeInfoFromFormat/* getAttributeInfoFromFormat */.v)(format).stride,\n          offset: 0,\n          instance: false,\n          start: 0\n        };\n      }\n    }\n  }\n  return results;\n}\n\n\n//# sourceMappingURL=extractAttributesFromGpuProgram.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/extractStructAndGroups.mjs\n\nfunction extractStructAndGroups(wgsl) {\n  const linePattern = /(^|[^/])@(group|binding)\\(\\d+\\)[^;]+;/g;\n  const groupPattern = /@group\\((\\d+)\\)/;\n  const bindingPattern = /@binding\\((\\d+)\\)/;\n  const namePattern = /var(<[^>]+>)? (\\w+)/;\n  const typePattern = /:\\s*(\\w+)/;\n  const structPattern = /struct\\s+(\\w+)\\s*{([^}]+)}/g;\n  const structMemberPattern = /(\\w+)\\s*:\\s*([\\w\\<\\>]+)/g;\n  const structName = /struct\\s+(\\w+)/;\n  const groups = wgsl.match(linePattern)?.map((item) => ({\n    group: parseInt(item.match(groupPattern)[1], 10),\n    binding: parseInt(item.match(bindingPattern)[1], 10),\n    name: item.match(namePattern)[2],\n    isUniform: item.match(namePattern)[1] === "<uniform>",\n    type: item.match(typePattern)[1]\n  }));\n  if (!groups) {\n    return {\n      groups: [],\n      structs: []\n    };\n  }\n  const structs = wgsl.match(structPattern)?.map((struct) => {\n    const name = struct.match(structName)[1];\n    const members = struct.match(structMemberPattern).reduce((acc, member) => {\n      const [name2, type] = member.split(":");\n      acc[name2.trim()] = type.trim();\n      return acc;\n    }, {});\n    if (!members) {\n      return null;\n    }\n    return { name, members };\n  }).filter(({ name }) => groups.some((group) => group.type === name)) ?? [];\n  return {\n    groups,\n    structs\n  };\n}\n\n\n//# sourceMappingURL=extractStructAndGroups.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/shader/const.mjs\n\nvar ShaderStage = /* @__PURE__ */ ((ShaderStage2) => {\n  ShaderStage2[ShaderStage2["VERTEX"] = 1] = "VERTEX";\n  ShaderStage2[ShaderStage2["FRAGMENT"] = 2] = "FRAGMENT";\n  ShaderStage2[ShaderStage2["COMPUTE"] = 4] = "COMPUTE";\n  return ShaderStage2;\n})(ShaderStage || {});\n\n\n//# sourceMappingURL=const.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/generateGpuLayoutGroups.mjs\n\n\n"use strict";\nfunction generateGpuLayoutGroups({ groups }) {\n  const layout = [];\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i];\n    if (!layout[group.group]) {\n      layout[group.group] = [];\n    }\n    if (group.isUniform) {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.VERTEX | ShaderStage.FRAGMENT,\n        buffer: {\n          type: "uniform"\n        }\n      });\n    } else if (group.type === "sampler") {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.FRAGMENT,\n        sampler: {\n          type: "filtering"\n        }\n      });\n    } else if (group.type === "texture_2d") {\n      layout[group.group].push({\n        binding: group.binding,\n        visibility: ShaderStage.FRAGMENT,\n        texture: {\n          sampleType: "float",\n          viewDimension: "2d",\n          multisampled: false\n        }\n      });\n    }\n  }\n  return layout;\n}\n\n\n//# sourceMappingURL=generateGpuLayoutGroups.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/generateLayoutHash.mjs\n\nfunction generateLayoutHash({ groups }) {\n  const layout = [];\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i];\n    if (!layout[group.group]) {\n      layout[group.group] = {};\n    }\n    layout[group.group][group.name] = group.binding;\n  }\n  return layout;\n}\n\n\n//# sourceMappingURL=generateLayoutHash.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/utils/removeStructAndGroupDuplicates.mjs\n\nfunction removeStructAndGroupDuplicates(vertexStructsAndGroups, fragmentStructsAndGroups) {\n  const structNameSet = /* @__PURE__ */ new Set();\n  const dupeGroupKeySet = /* @__PURE__ */ new Set();\n  const structs = [...vertexStructsAndGroups.structs, ...fragmentStructsAndGroups.structs].filter((struct) => {\n    if (structNameSet.has(struct.name)) {\n      return false;\n    }\n    structNameSet.add(struct.name);\n    return true;\n  });\n  const groups = [...vertexStructsAndGroups.groups, ...fragmentStructsAndGroups.groups].filter((group) => {\n    const key = `${group.name}-${group.binding}`;\n    if (dupeGroupKeySet.has(key)) {\n      return false;\n    }\n    dupeGroupKeySet.add(key);\n    return true;\n  });\n  return { structs, groups };\n}\n\n\n//# sourceMappingURL=removeStructAndGroupDuplicates.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/gpu/shader/GpuProgram.mjs\n\n\n\n\n\n\n\n"use strict";\nconst programCache = /* @__PURE__ */ Object.create(null);\nclass GpuProgram {\n  /**\n   * Create a new GpuProgram\n   * @param options - The options for the gpu program\n   */\n  constructor(options) {\n    /**\n     * @internal\n     * @ignore\n     */\n    this._layoutKey = 0;\n    const { fragment, vertex, layout, gpuLayout, name } = options;\n    this.name = name;\n    this.fragment = fragment;\n    this.vertex = vertex;\n    if (fragment.source === vertex.source) {\n      const structsAndGroups = extractStructAndGroups(fragment.source);\n      this.structsAndGroups = structsAndGroups;\n    } else {\n      const vertexStructsAndGroups = extractStructAndGroups(vertex.source);\n      const fragmentStructsAndGroups = extractStructAndGroups(fragment.source);\n      this.structsAndGroups = removeStructAndGroupDuplicates(vertexStructsAndGroups, fragmentStructsAndGroups);\n    }\n    this.layout = layout ?? generateLayoutHash(this.structsAndGroups);\n    this.gpuLayout = gpuLayout ?? generateGpuLayoutGroups(this.structsAndGroups);\n    this.autoAssignGlobalUniforms = !!(this.layout[0]?.globalUniforms !== void 0);\n    this.autoAssignLocalUniforms = !!(this.layout[1]?.localUniforms !== void 0);\n    this._generateProgramKey();\n  }\n  // TODO maker this pure\n  _generateProgramKey() {\n    const { vertex, fragment } = this;\n    const bigKey = vertex.source + fragment.source + vertex.entryPoint + fragment.entryPoint;\n    this._layoutKey = (0,createIdFromString/* createIdFromString */.Z)(bigKey, "program");\n  }\n  get attributeData() {\n    this._attributeData ?? (this._attributeData = extractAttributesFromGpuProgram(this.vertex));\n    return this._attributeData;\n  }\n  /** destroys the program */\n  destroy() {\n    this.gpuLayout = null;\n    this.layout = null;\n    this.structsAndGroups = null;\n    this.fragment = null;\n    this.vertex = null;\n  }\n  /**\n   * Helper function that creates a program for a given source.\n   * It will check the program cache if the program has already been created.\n   * If it has that one will be returned, if not a new one will be created and cached.\n   * @param options - The options for the program.\n   * @returns A program using the same source\n   */\n  static from(options) {\n    const key = `${options.vertex.source}:${options.fragment.source}:${options.fragment.entryPoint}:${options.vertex.entryPoint}`;\n    if (!programCache[key]) {\n      programCache[key] = new GpuProgram(options);\n    }\n    return programCache[key];\n  }\n}\n\n\n//# sourceMappingURL=GpuProgram.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk4Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyRzs7QUFFM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsb0JBQW9CO0FBQy9EO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnRUFBMEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUyQztBQUMzQzs7O0FDbERhO0FBQ2I7QUFDQSx5REFBeUQsR0FBRztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxJQUFJLElBQUk7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRyxZQUFZLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFa0M7QUFDbEM7OztBQzFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQjs7QUFFRztBQUN2Qjs7O0FDVCtEOztBQUUvRDtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXLFVBQVUsV0FBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVtQztBQUNuQzs7O0FDMUNhO0FBQ2IsOEJBQThCLFFBQVE7QUFDdEM7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThCO0FBQzlCOzs7QUNkYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixXQUFXLEdBQUcsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWDs7QUFFMEM7QUFDMUM7OztBQ3ZCK0U7QUFDZTtBQUNsQjtBQUNFO0FBQ1Y7QUFDd0I7O0FBRTVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0Q0FBNEM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0JBQXNCO0FBQ3JEO0FBQ0EsTUFBTTtBQUNOLHFDQUFxQyxzQkFBc0I7QUFDM0QsdUNBQXVDLHNCQUFzQjtBQUM3RCw4QkFBOEIsOEJBQThCO0FBQzVEO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QyxrQ0FBa0MsdUJBQXVCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0Esc0JBQXNCLGdEQUFrQjtBQUN4QztBQUNBO0FBQ0Esa0RBQWtELCtCQUErQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCLEdBQUcsd0JBQXdCLEdBQUcsNEJBQTRCLEdBQUcsMEJBQTBCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci91dGlscy9leHRyYWN0QXR0cmlidXRlc0Zyb21HcHVQcm9ncmFtLm1qcz8xZTc5Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL3V0aWxzL2V4dHJhY3RTdHJ1Y3RBbmRHcm91cHMubWpzP2Q0NTkiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvY29uc3QubWpzP2UxNWYiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMubWpzPzZjNGIiLCJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVMYXlvdXRIYXNoLm1qcz9lMmFiIiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL3V0aWxzL3JlbW92ZVN0cnVjdEFuZEdyb3VwRHVwbGljYXRlcy5tanM/NzRlMyIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcz9jMWZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2dlb21ldHJ5L3V0aWxzL2dldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgV0dTTF9UT19WRVJURVhfVFlQRVMgPSB7XG4gIGYzMjogXCJmbG9hdDMyXCIsXG4gIFwidmVjMjxmMzI+XCI6IFwiZmxvYXQzMngyXCIsXG4gIFwidmVjMzxmMzI+XCI6IFwiZmxvYXQzMngzXCIsXG4gIFwidmVjNDxmMzI+XCI6IFwiZmxvYXQzMng0XCIsXG4gIHZlYzJmOiBcImZsb2F0MzJ4MlwiLFxuICB2ZWMzZjogXCJmbG9hdDMyeDNcIixcbiAgdmVjNGY6IFwiZmxvYXQzMng0XCIsXG4gIGkzMjogXCJzaW50MzJcIixcbiAgXCJ2ZWMyPGkzMj5cIjogXCJzaW50MzJ4MlwiLFxuICBcInZlYzM8aTMyPlwiOiBcInNpbnQzMngzXCIsXG4gIFwidmVjNDxpMzI+XCI6IFwic2ludDMyeDRcIixcbiAgdTMyOiBcInVpbnQzMlwiLFxuICBcInZlYzI8dTMyPlwiOiBcInVpbnQzMngyXCIsXG4gIFwidmVjMzx1MzI+XCI6IFwidWludDMyeDNcIixcbiAgXCJ2ZWM0PHUzMj5cIjogXCJ1aW50MzJ4NFwiLFxuICBib29sOiBcInVpbnQzMlwiLFxuICBcInZlYzI8Ym9vbD5cIjogXCJ1aW50MzJ4MlwiLFxuICBcInZlYzM8Ym9vbD5cIjogXCJ1aW50MzJ4M1wiLFxuICBcInZlYzQ8Ym9vbD5cIjogXCJ1aW50MzJ4NFwiXG59O1xuZnVuY3Rpb24gZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbSh7IHNvdXJjZSwgZW50cnlQb2ludCB9KSB7XG4gIGNvbnN0IHJlc3VsdHMgPSB7fTtcbiAgY29uc3QgbWFpblZlcnRTdGFydCA9IHNvdXJjZS5pbmRleE9mKGBmbiAke2VudHJ5UG9pbnR9YCk7XG4gIGlmIChtYWluVmVydFN0YXJ0ICE9PSAtMSkge1xuICAgIGNvbnN0IGFycm93RnVuY3Rpb25TdGFydCA9IHNvdXJjZS5pbmRleE9mKFwiLT5cIiwgbWFpblZlcnRTdGFydCk7XG4gICAgaWYgKGFycm93RnVuY3Rpb25TdGFydCAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQXJnc1N1YnN0cmluZyA9IHNvdXJjZS5zdWJzdHJpbmcobWFpblZlcnRTdGFydCwgYXJyb3dGdW5jdGlvblN0YXJ0KTtcbiAgICAgIGNvbnN0IGlucHV0c1JlZ2V4ID0gL0Bsb2NhdGlvblxcKChcXGQrKVxcKVxccysoW2EtekEtWjAtOV9dKylcXHMqOlxccyooW2EtekEtWjAtOV88Pl0rKSg/Oix8XFxzfCQpL2c7XG4gICAgICBsZXQgbWF0Y2g7XG4gICAgICB3aGlsZSAoKG1hdGNoID0gaW5wdXRzUmVnZXguZXhlYyhmdW5jdGlvbkFyZ3NTdWJzdHJpbmcpKSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBmb3JtYXQgPSBXR1NMX1RPX1ZFUlRFWF9UWVBFU1ttYXRjaFszXV0gPz8gXCJmbG9hdDMyXCI7XG4gICAgICAgIHJlc3VsdHNbbWF0Y2hbMl1dID0ge1xuICAgICAgICAgIGxvY2F0aW9uOiBwYXJzZUludChtYXRjaFsxXSwgMTApLFxuICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICBzdHJpZGU6IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGZvcm1hdCkuc3RyaWRlLFxuICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICBpbnN0YW5jZTogZmFsc2UsXG4gICAgICAgICAgc3RhcnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmV4cG9ydCB7IGV4dHJhY3RBdHRyaWJ1dGVzRnJvbUdwdVByb2dyYW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RBdHRyaWJ1dGVzRnJvbUdwdVByb2dyYW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBleHRyYWN0U3RydWN0QW5kR3JvdXBzKHdnc2wpIHtcbiAgY29uc3QgbGluZVBhdHRlcm4gPSAvKF58W14vXSlAKGdyb3VwfGJpbmRpbmcpXFwoXFxkK1xcKVteO10rOy9nO1xuICBjb25zdCBncm91cFBhdHRlcm4gPSAvQGdyb3VwXFwoKFxcZCspXFwpLztcbiAgY29uc3QgYmluZGluZ1BhdHRlcm4gPSAvQGJpbmRpbmdcXCgoXFxkKylcXCkvO1xuICBjb25zdCBuYW1lUGF0dGVybiA9IC92YXIoPFtePl0rPik/IChcXHcrKS87XG4gIGNvbnN0IHR5cGVQYXR0ZXJuID0gLzpcXHMqKFxcdyspLztcbiAgY29uc3Qgc3RydWN0UGF0dGVybiA9IC9zdHJ1Y3RcXHMrKFxcdyspXFxzKnsoW159XSspfS9nO1xuICBjb25zdCBzdHJ1Y3RNZW1iZXJQYXR0ZXJuID0gLyhcXHcrKVxccyo6XFxzKihbXFx3XFw8XFw+XSspL2c7XG4gIGNvbnN0IHN0cnVjdE5hbWUgPSAvc3RydWN0XFxzKyhcXHcrKS87XG4gIGNvbnN0IGdyb3VwcyA9IHdnc2wubWF0Y2gobGluZVBhdHRlcm4pPy5tYXAoKGl0ZW0pID0+ICh7XG4gICAgZ3JvdXA6IHBhcnNlSW50KGl0ZW0ubWF0Y2goZ3JvdXBQYXR0ZXJuKVsxXSwgMTApLFxuICAgIGJpbmRpbmc6IHBhcnNlSW50KGl0ZW0ubWF0Y2goYmluZGluZ1BhdHRlcm4pWzFdLCAxMCksXG4gICAgbmFtZTogaXRlbS5tYXRjaChuYW1lUGF0dGVybilbMl0sXG4gICAgaXNVbmlmb3JtOiBpdGVtLm1hdGNoKG5hbWVQYXR0ZXJuKVsxXSA9PT0gXCI8dW5pZm9ybT5cIixcbiAgICB0eXBlOiBpdGVtLm1hdGNoKHR5cGVQYXR0ZXJuKVsxXVxuICB9KSk7XG4gIGlmICghZ3JvdXBzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdyb3VwczogW10sXG4gICAgICBzdHJ1Y3RzOiBbXVxuICAgIH07XG4gIH1cbiAgY29uc3Qgc3RydWN0cyA9IHdnc2wubWF0Y2goc3RydWN0UGF0dGVybik/Lm1hcCgoc3RydWN0KSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IHN0cnVjdC5tYXRjaChzdHJ1Y3ROYW1lKVsxXTtcbiAgICBjb25zdCBtZW1iZXJzID0gc3RydWN0Lm1hdGNoKHN0cnVjdE1lbWJlclBhdHRlcm4pLnJlZHVjZSgoYWNjLCBtZW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IFtuYW1lMiwgdHlwZV0gPSBtZW1iZXIuc3BsaXQoXCI6XCIpO1xuICAgICAgYWNjW25hbWUyLnRyaW0oKV0gPSB0eXBlLnRyaW0oKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIGlmICghbWVtYmVycykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7IG5hbWUsIG1lbWJlcnMgfTtcbiAgfSkuZmlsdGVyKCh7IG5hbWUgfSkgPT4gZ3JvdXBzLnNvbWUoKGdyb3VwKSA9PiBncm91cC50eXBlID09PSBuYW1lKSkgPz8gW107XG4gIHJldHVybiB7XG4gICAgZ3JvdXBzLFxuICAgIHN0cnVjdHNcbiAgfTtcbn1cblxuZXhwb3J0IHsgZXh0cmFjdFN0cnVjdEFuZEdyb3VwcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdFN0cnVjdEFuZEdyb3Vwcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBTaGFkZXJTdGFnZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFNoYWRlclN0YWdlMikgPT4ge1xuICBTaGFkZXJTdGFnZTJbU2hhZGVyU3RhZ2UyW1wiVkVSVEVYXCJdID0gMV0gPSBcIlZFUlRFWFwiO1xuICBTaGFkZXJTdGFnZTJbU2hhZGVyU3RhZ2UyW1wiRlJBR01FTlRcIl0gPSAyXSA9IFwiRlJBR01FTlRcIjtcbiAgU2hhZGVyU3RhZ2UyW1NoYWRlclN0YWdlMltcIkNPTVBVVEVcIl0gPSA0XSA9IFwiQ09NUFVURVwiO1xuICByZXR1cm4gU2hhZGVyU3RhZ2UyO1xufSkoU2hhZGVyU3RhZ2UgfHwge30pO1xuXG5leHBvcnQgeyBTaGFkZXJTdGFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QubWpzLm1hcFxuIiwiaW1wb3J0IHsgU2hhZGVyU3RhZ2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvc2hhZGVyL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMoeyBncm91cHMgfSkge1xuICBjb25zdCBsYXlvdXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICBpZiAoIWxheW91dFtncm91cC5ncm91cF0pIHtcbiAgICAgIGxheW91dFtncm91cC5ncm91cF0gPSBbXTtcbiAgICB9XG4gICAgaWYgKGdyb3VwLmlzVW5pZm9ybSkge1xuICAgICAgbGF5b3V0W2dyb3VwLmdyb3VwXS5wdXNoKHtcbiAgICAgICAgYmluZGluZzogZ3JvdXAuYmluZGluZyxcbiAgICAgICAgdmlzaWJpbGl0eTogU2hhZGVyU3RhZ2UuVkVSVEVYIHwgU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgICAgIGJ1ZmZlcjoge1xuICAgICAgICAgIHR5cGU6IFwidW5pZm9ybVwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXAudHlwZSA9PT0gXCJzYW1wbGVyXCIpIHtcbiAgICAgIGxheW91dFtncm91cC5ncm91cF0ucHVzaCh7XG4gICAgICAgIGJpbmRpbmc6IGdyb3VwLmJpbmRpbmcsXG4gICAgICAgIHZpc2liaWxpdHk6IFNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgICBzYW1wbGVyOiB7XG4gICAgICAgICAgdHlwZTogXCJmaWx0ZXJpbmdcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGdyb3VwLnR5cGUgPT09IFwidGV4dHVyZV8yZFwiKSB7XG4gICAgICBsYXlvdXRbZ3JvdXAuZ3JvdXBdLnB1c2goe1xuICAgICAgICBiaW5kaW5nOiBncm91cC5iaW5kaW5nLFxuICAgICAgICB2aXNpYmlsaXR5OiBTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgIHNhbXBsZVR5cGU6IFwiZmxvYXRcIixcbiAgICAgICAgICB2aWV3RGltZW5zaW9uOiBcIjJkXCIsXG4gICAgICAgICAgbXVsdGlzYW1wbGVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxheW91dDtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlR3B1TGF5b3V0R3JvdXBzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVMYXlvdXRIYXNoKHsgZ3JvdXBzIH0pIHtcbiAgY29uc3QgbGF5b3V0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgaWYgKCFsYXlvdXRbZ3JvdXAuZ3JvdXBdKSB7XG4gICAgICBsYXlvdXRbZ3JvdXAuZ3JvdXBdID0ge307XG4gICAgfVxuICAgIGxheW91dFtncm91cC5ncm91cF1bZ3JvdXAubmFtZV0gPSBncm91cC5iaW5kaW5nO1xuICB9XG4gIHJldHVybiBsYXlvdXQ7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlTGF5b3V0SGFzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVMYXlvdXRIYXNoLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gcmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzKHZlcnRleFN0cnVjdHNBbmRHcm91cHMsIGZyYWdtZW50U3RydWN0c0FuZEdyb3Vwcykge1xuICBjb25zdCBzdHJ1Y3ROYW1lU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgZHVwZUdyb3VwS2V5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc3RydWN0cyA9IFsuLi52ZXJ0ZXhTdHJ1Y3RzQW5kR3JvdXBzLnN0cnVjdHMsIC4uLmZyYWdtZW50U3RydWN0c0FuZEdyb3Vwcy5zdHJ1Y3RzXS5maWx0ZXIoKHN0cnVjdCkgPT4ge1xuICAgIGlmIChzdHJ1Y3ROYW1lU2V0LmhhcyhzdHJ1Y3QubmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RydWN0TmFtZVNldC5hZGQoc3RydWN0Lm5hbWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgY29uc3QgZ3JvdXBzID0gWy4uLnZlcnRleFN0cnVjdHNBbmRHcm91cHMuZ3JvdXBzLCAuLi5mcmFnbWVudFN0cnVjdHNBbmRHcm91cHMuZ3JvdXBzXS5maWx0ZXIoKGdyb3VwKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7Z3JvdXAubmFtZX0tJHtncm91cC5iaW5kaW5nfWA7XG4gICAgaWYgKGR1cGVHcm91cEtleVNldC5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkdXBlR3JvdXBLZXlTZXQuYWRkKGtleSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICByZXR1cm4geyBzdHJ1Y3RzLCBncm91cHMgfTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdmVTdHJ1Y3RBbmRHcm91cER1cGxpY2F0ZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlSWRGcm9tU3RyaW5nIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzL2NyZWF0ZUlkRnJvbVN0cmluZy5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbSB9IGZyb20gJy4vdXRpbHMvZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgZXh0cmFjdFN0cnVjdEFuZEdyb3VwcyB9IGZyb20gJy4vdXRpbHMvZXh0cmFjdFN0cnVjdEFuZEdyb3Vwcy5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMgfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlR3B1TGF5b3V0R3JvdXBzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUxheW91dEhhc2ggfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlTGF5b3V0SGFzaC5tanMnO1xuaW1wb3J0IHsgcmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzIH0gZnJvbSAnLi91dGlscy9yZW1vdmVTdHJ1Y3RBbmRHcm91cER1cGxpY2F0ZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBwcm9ncmFtQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNsYXNzIEdwdVByb2dyYW0ge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEdwdVByb2dyYW1cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGdwdSBwcm9ncmFtXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX2xheW91dEtleSA9IDA7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgdmVydGV4LCBsYXlvdXQsIGdwdUxheW91dCwgbmFtZSB9ID0gb3B0aW9ucztcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudDtcbiAgICB0aGlzLnZlcnRleCA9IHZlcnRleDtcbiAgICBpZiAoZnJhZ21lbnQuc291cmNlID09PSB2ZXJ0ZXguc291cmNlKSB7XG4gICAgICBjb25zdCBzdHJ1Y3RzQW5kR3JvdXBzID0gZXh0cmFjdFN0cnVjdEFuZEdyb3VwcyhmcmFnbWVudC5zb3VyY2UpO1xuICAgICAgdGhpcy5zdHJ1Y3RzQW5kR3JvdXBzID0gc3RydWN0c0FuZEdyb3VwcztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmVydGV4U3RydWN0c0FuZEdyb3VwcyA9IGV4dHJhY3RTdHJ1Y3RBbmRHcm91cHModmVydGV4LnNvdXJjZSk7XG4gICAgICBjb25zdCBmcmFnbWVudFN0cnVjdHNBbmRHcm91cHMgPSBleHRyYWN0U3RydWN0QW5kR3JvdXBzKGZyYWdtZW50LnNvdXJjZSk7XG4gICAgICB0aGlzLnN0cnVjdHNBbmRHcm91cHMgPSByZW1vdmVTdHJ1Y3RBbmRHcm91cER1cGxpY2F0ZXModmVydGV4U3RydWN0c0FuZEdyb3VwcywgZnJhZ21lbnRTdHJ1Y3RzQW5kR3JvdXBzKTtcbiAgICB9XG4gICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQgPz8gZ2VuZXJhdGVMYXlvdXRIYXNoKHRoaXMuc3RydWN0c0FuZEdyb3Vwcyk7XG4gICAgdGhpcy5ncHVMYXlvdXQgPSBncHVMYXlvdXQgPz8gZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHModGhpcy5zdHJ1Y3RzQW5kR3JvdXBzKTtcbiAgICB0aGlzLmF1dG9Bc3NpZ25HbG9iYWxVbmlmb3JtcyA9ICEhKHRoaXMubGF5b3V0WzBdPy5nbG9iYWxVbmlmb3JtcyAhPT0gdm9pZCAwKTtcbiAgICB0aGlzLmF1dG9Bc3NpZ25Mb2NhbFVuaWZvcm1zID0gISEodGhpcy5sYXlvdXRbMV0/LmxvY2FsVW5pZm9ybXMgIT09IHZvaWQgMCk7XG4gICAgdGhpcy5fZ2VuZXJhdGVQcm9ncmFtS2V5KCk7XG4gIH1cbiAgLy8gVE9ETyBtYWtlciB0aGlzIHB1cmVcbiAgX2dlbmVyYXRlUHJvZ3JhbUtleSgpIHtcbiAgICBjb25zdCB7IHZlcnRleCwgZnJhZ21lbnQgfSA9IHRoaXM7XG4gICAgY29uc3QgYmlnS2V5ID0gdmVydGV4LnNvdXJjZSArIGZyYWdtZW50LnNvdXJjZSArIHZlcnRleC5lbnRyeVBvaW50ICsgZnJhZ21lbnQuZW50cnlQb2ludDtcbiAgICB0aGlzLl9sYXlvdXRLZXkgPSBjcmVhdGVJZEZyb21TdHJpbmcoYmlnS2V5LCBcInByb2dyYW1cIik7XG4gIH1cbiAgZ2V0IGF0dHJpYnV0ZURhdGEoKSB7XG4gICAgdGhpcy5fYXR0cmlidXRlRGF0YSA/PyAodGhpcy5fYXR0cmlidXRlRGF0YSA9IGV4dHJhY3RBdHRyaWJ1dGVzRnJvbUdwdVByb2dyYW0odGhpcy52ZXJ0ZXgpKTtcbiAgICByZXR1cm4gdGhpcy5fYXR0cmlidXRlRGF0YTtcbiAgfVxuICAvKiogZGVzdHJveXMgdGhlIHByb2dyYW0gKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmdwdUxheW91dCA9IG51bGw7XG4gICAgdGhpcy5sYXlvdXQgPSBudWxsO1xuICAgIHRoaXMuc3RydWN0c0FuZEdyb3VwcyA9IG51bGw7XG4gICAgdGhpcy5mcmFnbWVudCA9IG51bGw7XG4gICAgdGhpcy52ZXJ0ZXggPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgcHJvZ3JhbSBmb3IgYSBnaXZlbiBzb3VyY2UuXG4gICAqIEl0IHdpbGwgY2hlY2sgdGhlIHByb2dyYW0gY2FjaGUgaWYgdGhlIHByb2dyYW0gaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkLlxuICAgKiBJZiBpdCBoYXMgdGhhdCBvbmUgd2lsbCBiZSByZXR1cm5lZCwgaWYgbm90IGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQgYW5kIGNhY2hlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIHByb2dyYW0uXG4gICAqIEByZXR1cm5zIEEgcHJvZ3JhbSB1c2luZyB0aGUgc2FtZSBzb3VyY2VcbiAgICovXG4gIHN0YXRpYyBmcm9tKG9wdGlvbnMpIHtcbiAgICBjb25zdCBrZXkgPSBgJHtvcHRpb25zLnZlcnRleC5zb3VyY2V9OiR7b3B0aW9ucy5mcmFnbWVudC5zb3VyY2V9OiR7b3B0aW9ucy5mcmFnbWVudC5lbnRyeVBvaW50fToke29wdGlvbnMudmVydGV4LmVudHJ5UG9pbnR9YDtcbiAgICBpZiAoIXByb2dyYW1DYWNoZVtrZXldKSB7XG4gICAgICBwcm9ncmFtQ2FjaGVba2V5XSA9IG5ldyBHcHVQcm9ncmFtKG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZ3JhbUNhY2hlW2tleV07XG4gIH1cbn1cblxuZXhwb3J0IHsgR3B1UHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1UHJvZ3JhbS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1982\n')},9824:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   v: () => (/* binding */ getAttributeInfoFromFormat)\n/* harmony export */ });\n\nconst attributeFormatData = {\n  uint8x2: { size: 2, stride: 2, normalised: false },\n  uint8x4: { size: 4, stride: 4, normalised: false },\n  sint8x2: { size: 2, stride: 2, normalised: false },\n  sint8x4: { size: 4, stride: 4, normalised: false },\n  unorm8x2: { size: 2, stride: 2, normalised: true },\n  unorm8x4: { size: 4, stride: 4, normalised: true },\n  snorm8x2: { size: 2, stride: 2, normalised: true },\n  snorm8x4: { size: 4, stride: 4, normalised: true },\n  uint16x2: { size: 2, stride: 4, normalised: false },\n  uint16x4: { size: 4, stride: 8, normalised: false },\n  sint16x2: { size: 2, stride: 4, normalised: false },\n  sint16x4: { size: 4, stride: 8, normalised: false },\n  unorm16x2: { size: 2, stride: 4, normalised: true },\n  unorm16x4: { size: 4, stride: 8, normalised: true },\n  snorm16x2: { size: 2, stride: 4, normalised: true },\n  snorm16x4: { size: 4, stride: 8, normalised: true },\n  float16x2: { size: 2, stride: 4, normalised: false },\n  float16x4: { size: 4, stride: 8, normalised: false },\n  float32: { size: 1, stride: 4, normalised: false },\n  float32x2: { size: 2, stride: 8, normalised: false },\n  float32x3: { size: 3, stride: 12, normalised: false },\n  float32x4: { size: 4, stride: 16, normalised: false },\n  uint32: { size: 1, stride: 4, normalised: false },\n  uint32x2: { size: 2, stride: 8, normalised: false },\n  uint32x3: { size: 3, stride: 12, normalised: false },\n  uint32x4: { size: 4, stride: 16, normalised: false },\n  sint32: { size: 1, stride: 4, normalised: false },\n  sint32x2: { size: 2, stride: 8, normalised: false },\n  sint32x3: { size: 3, stride: 12, normalised: false },\n  sint32x4: { size: 4, stride: 16, normalised: false }\n};\nfunction getAttributeInfoFromFormat(format) {\n  return attributeFormatData[format] ?? attributeFormatData.float32;\n}\n\n\n//# sourceMappingURL=getAttributeInfoFromFormat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgyNC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBYTtBQUNiO0FBQ0EsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx1Q0FBdUM7QUFDcEQsYUFBYSx1Q0FBdUM7QUFDcEQsY0FBYyxzQ0FBc0M7QUFDcEQsY0FBYyxzQ0FBc0M7QUFDcEQsY0FBYyxzQ0FBc0M7QUFDcEQsY0FBYyxzQ0FBc0M7QUFDcEQsY0FBYyx1Q0FBdUM7QUFDckQsY0FBYyx1Q0FBdUM7QUFDckQsY0FBYyx1Q0FBdUM7QUFDckQsY0FBYyx1Q0FBdUM7QUFDckQsZUFBZSxzQ0FBc0M7QUFDckQsZUFBZSxzQ0FBc0M7QUFDckQsZUFBZSxzQ0FBc0M7QUFDckQsZUFBZSxzQ0FBc0M7QUFDckQsZUFBZSx1Q0FBdUM7QUFDdEQsZUFBZSx1Q0FBdUM7QUFDdEQsYUFBYSx1Q0FBdUM7QUFDcEQsZUFBZSx1Q0FBdUM7QUFDdEQsZUFBZSx3Q0FBd0M7QUFDdkQsZUFBZSx3Q0FBd0M7QUFDdkQsWUFBWSx1Q0FBdUM7QUFDbkQsY0FBYyx1Q0FBdUM7QUFDckQsY0FBYyx3Q0FBd0M7QUFDdEQsY0FBYyx3Q0FBd0M7QUFDdEQsWUFBWSx1Q0FBdUM7QUFDbkQsY0FBYyx1Q0FBdUM7QUFDckQsY0FBYyx3Q0FBd0M7QUFDdEQsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzPzAwMjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBhdHRyaWJ1dGVGb3JtYXREYXRhID0ge1xuICB1aW50OHgyOiB7IHNpemU6IDIsIHN0cmlkZTogMiwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdWludDh4NDogeyBzaXplOiA0LCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQ4eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiAyLCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50OHg0OiB7IHNpemU6IDQsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdW5vcm04eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiAyLCBub3JtYWxpc2VkOiB0cnVlIH0sXG4gIHVub3JtOHg0OiB7IHNpemU6IDQsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICBzbm9ybTh4MjogeyBzaXplOiAyLCBzdHJpZGU6IDIsIG5vcm1hbGlzZWQ6IHRydWUgfSxcbiAgc25vcm04eDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiB0cnVlIH0sXG4gIHVpbnQxNngyOiB7IHNpemU6IDIsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdWludDE2eDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiA4LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50MTZ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQxNng0OiB7IHNpemU6IDQsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdW5vcm0xNngyOiB7IHNpemU6IDIsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICB1bm9ybTE2eDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiA4LCBub3JtYWxpc2VkOiB0cnVlIH0sXG4gIHNub3JtMTZ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IHRydWUgfSxcbiAgc25vcm0xNng0OiB7IHNpemU6IDQsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICBmbG9hdDE2eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBmbG9hdDE2eDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiA4LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBmbG9hdDMyOiB7IHNpemU6IDEsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgZmxvYXQzMngyOiB7IHNpemU6IDIsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgZmxvYXQzMngzOiB7IHNpemU6IDMsIHN0cmlkZTogMTIsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIGZsb2F0MzJ4NDogeyBzaXplOiA0LCBzdHJpZGU6IDE2LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICB1aW50MzI6IHsgc2l6ZTogMSwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICB1aW50MzJ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDgsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVpbnQzMngzOiB7IHNpemU6IDMsIHN0cmlkZTogMTIsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVpbnQzMng0OiB7IHNpemU6IDQsIHN0cmlkZTogMTYsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQzMjogeyBzaXplOiAxLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQzMngyOiB7IHNpemU6IDIsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgc2ludDMyeDM6IHsgc2l6ZTogMywgc3RyaWRlOiAxMiwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgc2ludDMyeDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiAxNiwgbm9ybWFsaXNlZDogZmFsc2UgfVxufTtcbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGZvcm1hdCkge1xuICByZXR1cm4gYXR0cmlidXRlRm9ybWF0RGF0YVtmb3JtYXRdID8/IGF0dHJpYnV0ZUZvcm1hdERhdGEuZmxvYXQzMjtcbn1cblxuZXhwb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9824\n")},2267:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   e: () => (/* binding */ Shader)\n/* harmony export */ });\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1580);\n/* harmony import */ var _gl_shader_GlProgram_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(749);\n/* harmony import */ var _gpu_shader_BindGroup_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9818);\n/* harmony import */ var _gpu_shader_GpuProgram_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1982);\n/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5765);\n/* harmony import */ var _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4537);\n\n\n\n\n\n\n\n"use strict";\nclass Shader extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z {\n  constructor(options) {\n    super();\n    /**\n     * A record of the uniform groups and resources used by the shader.\n     * This is used by WebGL renderer to sync uniform data.\n     * @internal\n     * @ignore\n     */\n    this._uniformBindMap = /* @__PURE__ */ Object.create(null);\n    this._ownedBindGroups = [];\n    let {\n      gpuProgram,\n      glProgram,\n      groups,\n      resources,\n      compatibleRenderers,\n      groupMap\n    } = options;\n    this.gpuProgram = gpuProgram;\n    this.glProgram = glProgram;\n    if (compatibleRenderers === void 0) {\n      compatibleRenderers = 0;\n      if (gpuProgram)\n        compatibleRenderers |= _types_mjs__WEBPACK_IMPORTED_MODULE_1__/* .RendererType */ .g.WEBGPU;\n      if (glProgram)\n        compatibleRenderers |= _types_mjs__WEBPACK_IMPORTED_MODULE_1__/* .RendererType */ .g.WEBGL;\n    }\n    this.compatibleRenderers = compatibleRenderers;\n    const nameHash = {};\n    if (!resources && !groups) {\n      resources = {};\n    }\n    if (resources && groups) {\n      throw new Error("[Shader] Cannot have both resources and groups");\n    } else if (!gpuProgram && groups && !groupMap) {\n      throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");\n    } else if (!gpuProgram && groups && groupMap) {\n      for (const i in groupMap) {\n        for (const j in groupMap[i]) {\n          const uniformName = groupMap[i][j];\n          nameHash[uniformName] = {\n            group: i,\n            binding: j,\n            name: uniformName\n          };\n        }\n      }\n    } else if (gpuProgram && groups && !groupMap) {\n      const groupData = gpuProgram.structsAndGroups.groups;\n      groupMap = {};\n      groupData.forEach((data) => {\n        groupMap[data.group] = groupMap[data.group] || {};\n        groupMap[data.group][data.binding] = data.name;\n        nameHash[data.name] = data;\n      });\n    } else if (resources) {\n      groups = {};\n      groupMap = {};\n      if (gpuProgram) {\n        const groupData = gpuProgram.structsAndGroups.groups;\n        groupData.forEach((data) => {\n          groupMap[data.group] = groupMap[data.group] || {};\n          groupMap[data.group][data.binding] = data.name;\n          nameHash[data.name] = data;\n        });\n      }\n      let bindTick = 0;\n      for (const i in resources) {\n        if (nameHash[i])\n          continue;\n        if (!groups[99]) {\n          groups[99] = new _gpu_shader_BindGroup_mjs__WEBPACK_IMPORTED_MODULE_2__/* .BindGroup */ .v();\n          this._ownedBindGroups.push(groups[99]);\n        }\n        nameHash[i] = { group: 99, binding: bindTick, name: i };\n        groupMap[99] = groupMap[99] || {};\n        groupMap[99][bindTick] = i;\n        bindTick++;\n      }\n      for (const i in resources) {\n        const name = i;\n        let value = resources[i];\n        if (!value.source && !value._resourceType) {\n          value = new _UniformGroup_mjs__WEBPACK_IMPORTED_MODULE_3__/* .UniformGroup */ .o(value);\n        }\n        const data = nameHash[name];\n        if (data) {\n          if (!groups[data.group]) {\n            groups[data.group] = new _gpu_shader_BindGroup_mjs__WEBPACK_IMPORTED_MODULE_2__/* .BindGroup */ .v();\n            this._ownedBindGroups.push(groups[data.group]);\n          }\n          groups[data.group].setResource(value, data.binding);\n        }\n      }\n    }\n    this.groups = groups;\n    this._uniformBindMap = groupMap;\n    this.resources = this._buildResourceAccessor(groups, nameHash);\n  }\n  /**\n   * Sometimes a resource group will be provided later (for example global uniforms)\n   * In such cases, this method can be used to let the shader know about the group.\n   * @param name - the name of the resource group\n   * @param groupIndex - the index of the group (should match the webGPU shader group location)\n   * @param bindIndex - the index of the bind point (should match the webGPU shader bind point)\n   */\n  addResource(name, groupIndex, bindIndex) {\n    var _a, _b;\n    (_a = this._uniformBindMap)[groupIndex] || (_a[groupIndex] = {});\n    (_b = this._uniformBindMap[groupIndex])[bindIndex] || (_b[bindIndex] = name);\n    if (!this.groups[groupIndex]) {\n      this.groups[groupIndex] = new _gpu_shader_BindGroup_mjs__WEBPACK_IMPORTED_MODULE_2__/* .BindGroup */ .v();\n      this._ownedBindGroups.push(this.groups[groupIndex]);\n    }\n  }\n  _buildResourceAccessor(groups, nameHash) {\n    const uniformsOut = {};\n    for (const i in nameHash) {\n      const data = nameHash[i];\n      Object.defineProperty(uniformsOut, data.name, {\n        get() {\n          return groups[data.group].getResource(data.binding);\n        },\n        set(value) {\n          groups[data.group].setResource(value, data.binding);\n        }\n      });\n    }\n    return uniformsOut;\n  }\n  /**\n   * Use to destroy the shader when its not longer needed.\n   * It will destroy the resources and remove listeners.\n   * @param destroyPrograms - if the programs should be destroyed as well.\n   * Make sure its not being used by other shaders!\n   */\n  destroy(destroyPrograms = false) {\n    this.emit("destroy", this);\n    if (destroyPrograms) {\n      this.gpuProgram?.destroy();\n      this.glProgram?.destroy();\n    }\n    this.gpuProgram = null;\n    this.glProgram = null;\n    this.removeAllListeners();\n    this._uniformBindMap = null;\n    this._ownedBindGroups.forEach((bindGroup) => {\n      bindGroup.destroy();\n    });\n    this._ownedBindGroups = null;\n    this.resources = null;\n    this.groups = null;\n  }\n  static from(options) {\n    const { gpu, gl, ...rest } = options;\n    let gpuProgram;\n    let glProgram;\n    if (gpu) {\n      gpuProgram = _gpu_shader_GpuProgram_mjs__WEBPACK_IMPORTED_MODULE_4__/* .GpuProgram */ .O.from(gpu);\n    }\n    if (gl) {\n      glProgram = _gl_shader_GlProgram_mjs__WEBPACK_IMPORTED_MODULE_5__/* .GlProgram */ .J.from(gl);\n    }\n    return new Shader({\n      gpuProgram,\n      glProgram,\n      ...rest\n    });\n  }\n}\n\n\n//# sourceMappingURL=Shader.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI2Ny5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7QUFDaUI7QUFDQztBQUNFO0FBQ2Q7QUFDRzs7QUFFbEQ7QUFDQSxxQkFBcUIsOERBQVk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZEQUFZO0FBQzNDO0FBQ0EsK0JBQStCLDZEQUFZO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5RUFBUztBQUNwQztBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0VBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseUVBQVM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBLG9DQUFvQyx5RUFBUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkVBQVU7QUFDN0I7QUFDQTtBQUNBLGtCQUFrQix3RUFBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcz9kNTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi8uLi9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi9ncHUvc2hhZGVyL0JpbmRHcm91cC5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vVW5pZm9ybUdyb3VwLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU2hhZGVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogQSByZWNvcmQgb2YgdGhlIHVuaWZvcm0gZ3JvdXBzIGFuZCByZXNvdXJjZXMgdXNlZCBieSB0aGUgc2hhZGVyLlxuICAgICAqIFRoaXMgaXMgdXNlZCBieSBXZWJHTCByZW5kZXJlciB0byBzeW5jIHVuaWZvcm0gZGF0YS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fdW5pZm9ybUJpbmRNYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9vd25lZEJpbmRHcm91cHMgPSBbXTtcbiAgICBsZXQge1xuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdyb3VwcyxcbiAgICAgIHJlc291cmNlcyxcbiAgICAgIGNvbXBhdGlibGVSZW5kZXJlcnMsXG4gICAgICBncm91cE1hcFxuICAgIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuZ3B1UHJvZ3JhbSA9IGdwdVByb2dyYW07XG4gICAgdGhpcy5nbFByb2dyYW0gPSBnbFByb2dyYW07XG4gICAgaWYgKGNvbXBhdGlibGVSZW5kZXJlcnMgPT09IHZvaWQgMCkge1xuICAgICAgY29tcGF0aWJsZVJlbmRlcmVycyA9IDA7XG4gICAgICBpZiAoZ3B1UHJvZ3JhbSlcbiAgICAgICAgY29tcGF0aWJsZVJlbmRlcmVycyB8PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICAgICAgaWYgKGdsUHJvZ3JhbSlcbiAgICAgICAgY29tcGF0aWJsZVJlbmRlcmVycyB8PSBSZW5kZXJlclR5cGUuV0VCR0w7XG4gICAgfVxuICAgIHRoaXMuY29tcGF0aWJsZVJlbmRlcmVycyA9IGNvbXBhdGlibGVSZW5kZXJlcnM7XG4gICAgY29uc3QgbmFtZUhhc2ggPSB7fTtcbiAgICBpZiAoIXJlc291cmNlcyAmJiAhZ3JvdXBzKSB7XG4gICAgICByZXNvdXJjZXMgPSB7fTtcbiAgICB9XG4gICAgaWYgKHJlc291cmNlcyAmJiBncm91cHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltTaGFkZXJdIENhbm5vdCBoYXZlIGJvdGggcmVzb3VyY2VzIGFuZCBncm91cHNcIik7XG4gICAgfSBlbHNlIGlmICghZ3B1UHJvZ3JhbSAmJiBncm91cHMgJiYgIWdyb3VwTWFwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbU2hhZGVyXSBObyBncm91cCBtYXAgb3IgV2ViR1BVIHNoYWRlciBwcm92aWRlZCAtIGNvbnNpZGVyIHVzaW5nIHJlc291cmNlcyBpbnN0ZWFkLlwiKTtcbiAgICB9IGVsc2UgaWYgKCFncHVQcm9ncmFtICYmIGdyb3VwcyAmJiBncm91cE1hcCkge1xuICAgICAgZm9yIChjb25zdCBpIGluIGdyb3VwTWFwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBncm91cE1hcFtpXSkge1xuICAgICAgICAgIGNvbnN0IHVuaWZvcm1OYW1lID0gZ3JvdXBNYXBbaV1bal07XG4gICAgICAgICAgbmFtZUhhc2hbdW5pZm9ybU5hbWVdID0ge1xuICAgICAgICAgICAgZ3JvdXA6IGksXG4gICAgICAgICAgICBiaW5kaW5nOiBqLFxuICAgICAgICAgICAgbmFtZTogdW5pZm9ybU5hbWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChncHVQcm9ncmFtICYmIGdyb3VwcyAmJiAhZ3JvdXBNYXApIHtcbiAgICAgIGNvbnN0IGdyb3VwRGF0YSA9IGdwdVByb2dyYW0uc3RydWN0c0FuZEdyb3Vwcy5ncm91cHM7XG4gICAgICBncm91cE1hcCA9IHt9O1xuICAgICAgZ3JvdXBEYXRhLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgZ3JvdXBNYXBbZGF0YS5ncm91cF0gPSBncm91cE1hcFtkYXRhLmdyb3VwXSB8fCB7fTtcbiAgICAgICAgZ3JvdXBNYXBbZGF0YS5ncm91cF1bZGF0YS5iaW5kaW5nXSA9IGRhdGEubmFtZTtcbiAgICAgICAgbmFtZUhhc2hbZGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlc291cmNlcykge1xuICAgICAgZ3JvdXBzID0ge307XG4gICAgICBncm91cE1hcCA9IHt9O1xuICAgICAgaWYgKGdwdVByb2dyYW0pIHtcbiAgICAgICAgY29uc3QgZ3JvdXBEYXRhID0gZ3B1UHJvZ3JhbS5zdHJ1Y3RzQW5kR3JvdXBzLmdyb3VwcztcbiAgICAgICAgZ3JvdXBEYXRhLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgICBncm91cE1hcFtkYXRhLmdyb3VwXSA9IGdyb3VwTWFwW2RhdGEuZ3JvdXBdIHx8IHt9O1xuICAgICAgICAgIGdyb3VwTWFwW2RhdGEuZ3JvdXBdW2RhdGEuYmluZGluZ10gPSBkYXRhLm5hbWU7XG4gICAgICAgICAgbmFtZUhhc2hbZGF0YS5uYW1lXSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IGJpbmRUaWNrID0gMDtcbiAgICAgIGZvciAoY29uc3QgaSBpbiByZXNvdXJjZXMpIHtcbiAgICAgICAgaWYgKG5hbWVIYXNoW2ldKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWdyb3Vwc1s5OV0pIHtcbiAgICAgICAgICBncm91cHNbOTldID0gbmV3IEJpbmRHcm91cCgpO1xuICAgICAgICAgIHRoaXMuX293bmVkQmluZEdyb3Vwcy5wdXNoKGdyb3Vwc1s5OV0pO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVIYXNoW2ldID0geyBncm91cDogOTksIGJpbmRpbmc6IGJpbmRUaWNrLCBuYW1lOiBpIH07XG4gICAgICAgIGdyb3VwTWFwWzk5XSA9IGdyb3VwTWFwWzk5XSB8fCB7fTtcbiAgICAgICAgZ3JvdXBNYXBbOTldW2JpbmRUaWNrXSA9IGk7XG4gICAgICAgIGJpbmRUaWNrKys7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gcmVzb3VyY2VzKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBpO1xuICAgICAgICBsZXQgdmFsdWUgPSByZXNvdXJjZXNbaV07XG4gICAgICAgIGlmICghdmFsdWUuc291cmNlICYmICF2YWx1ZS5fcmVzb3VyY2VUeXBlKSB7XG4gICAgICAgICAgdmFsdWUgPSBuZXcgVW5pZm9ybUdyb3VwKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gbmFtZUhhc2hbbmFtZV07XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgaWYgKCFncm91cHNbZGF0YS5ncm91cF0pIHtcbiAgICAgICAgICAgIGdyb3Vwc1tkYXRhLmdyb3VwXSA9IG5ldyBCaW5kR3JvdXAoKTtcbiAgICAgICAgICAgIHRoaXMuX293bmVkQmluZEdyb3Vwcy5wdXNoKGdyb3Vwc1tkYXRhLmdyb3VwXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3Vwc1tkYXRhLmdyb3VwXS5zZXRSZXNvdXJjZSh2YWx1ZSwgZGF0YS5iaW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmdyb3VwcyA9IGdyb3VwcztcbiAgICB0aGlzLl91bmlmb3JtQmluZE1hcCA9IGdyb3VwTWFwO1xuICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5fYnVpbGRSZXNvdXJjZUFjY2Vzc29yKGdyb3VwcywgbmFtZUhhc2gpO1xuICB9XG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSByZXNvdXJjZSBncm91cCB3aWxsIGJlIHByb3ZpZGVkIGxhdGVyIChmb3IgZXhhbXBsZSBnbG9iYWwgdW5pZm9ybXMpXG4gICAqIEluIHN1Y2ggY2FzZXMsIHRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGxldCB0aGUgc2hhZGVyIGtub3cgYWJvdXQgdGhlIGdyb3VwLlxuICAgKiBAcGFyYW0gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBncm91cFxuICAgKiBAcGFyYW0gZ3JvdXBJbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgZ3JvdXAgKHNob3VsZCBtYXRjaCB0aGUgd2ViR1BVIHNoYWRlciBncm91cCBsb2NhdGlvbilcbiAgICogQHBhcmFtIGJpbmRJbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgYmluZCBwb2ludCAoc2hvdWxkIG1hdGNoIHRoZSB3ZWJHUFUgc2hhZGVyIGJpbmQgcG9pbnQpXG4gICAqL1xuICBhZGRSZXNvdXJjZShuYW1lLCBncm91cEluZGV4LCBiaW5kSW5kZXgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IHRoaXMuX3VuaWZvcm1CaW5kTWFwKVtncm91cEluZGV4XSB8fCAoX2FbZ3JvdXBJbmRleF0gPSB7fSk7XG4gICAgKF9iID0gdGhpcy5fdW5pZm9ybUJpbmRNYXBbZ3JvdXBJbmRleF0pW2JpbmRJbmRleF0gfHwgKF9iW2JpbmRJbmRleF0gPSBuYW1lKTtcbiAgICBpZiAoIXRoaXMuZ3JvdXBzW2dyb3VwSW5kZXhdKSB7XG4gICAgICB0aGlzLmdyb3Vwc1tncm91cEluZGV4XSA9IG5ldyBCaW5kR3JvdXAoKTtcbiAgICAgIHRoaXMuX293bmVkQmluZEdyb3Vwcy5wdXNoKHRoaXMuZ3JvdXBzW2dyb3VwSW5kZXhdKTtcbiAgICB9XG4gIH1cbiAgX2J1aWxkUmVzb3VyY2VBY2Nlc3Nvcihncm91cHMsIG5hbWVIYXNoKSB7XG4gICAgY29uc3QgdW5pZm9ybXNPdXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gbmFtZUhhc2gpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBuYW1lSGFzaFtpXTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bmlmb3Jtc091dCwgZGF0YS5uYW1lLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gZ3JvdXBzW2RhdGEuZ3JvdXBdLmdldFJlc291cmNlKGRhdGEuYmluZGluZyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgIGdyb3Vwc1tkYXRhLmdyb3VwXS5zZXRSZXNvdXJjZSh2YWx1ZSwgZGF0YS5iaW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB1bmlmb3Jtc091dDtcbiAgfVxuICAvKipcbiAgICogVXNlIHRvIGRlc3Ryb3kgdGhlIHNoYWRlciB3aGVuIGl0cyBub3QgbG9uZ2VyIG5lZWRlZC5cbiAgICogSXQgd2lsbCBkZXN0cm95IHRoZSByZXNvdXJjZXMgYW5kIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAqIEBwYXJhbSBkZXN0cm95UHJvZ3JhbXMgLSBpZiB0aGUgcHJvZ3JhbXMgc2hvdWxkIGJlIGRlc3Ryb3llZCBhcyB3ZWxsLlxuICAgKiBNYWtlIHN1cmUgaXRzIG5vdCBiZWluZyB1c2VkIGJ5IG90aGVyIHNoYWRlcnMhXG4gICAqL1xuICBkZXN0cm95KGRlc3Ryb3lQcm9ncmFtcyA9IGZhbHNlKSB7XG4gICAgdGhpcy5lbWl0KFwiZGVzdHJveVwiLCB0aGlzKTtcbiAgICBpZiAoZGVzdHJveVByb2dyYW1zKSB7XG4gICAgICB0aGlzLmdwdVByb2dyYW0/LmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZ2xQcm9ncmFtPy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuZ3B1UHJvZ3JhbSA9IG51bGw7XG4gICAgdGhpcy5nbFByb2dyYW0gPSBudWxsO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fdW5pZm9ybUJpbmRNYXAgPSBudWxsO1xuICAgIHRoaXMuX293bmVkQmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGJpbmRHcm91cC5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fb3duZWRCaW5kR3JvdXBzID0gbnVsbDtcbiAgICB0aGlzLnJlc291cmNlcyA9IG51bGw7XG4gICAgdGhpcy5ncm91cHMgPSBudWxsO1xuICB9XG4gIHN0YXRpYyBmcm9tKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGdwdSwgZ2wsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGdwdVByb2dyYW07XG4gICAgbGV0IGdsUHJvZ3JhbTtcbiAgICBpZiAoZ3B1KSB7XG4gICAgICBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKGdwdSk7XG4gICAgfVxuICAgIGlmIChnbCkge1xuICAgICAgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oZ2wpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNoYWRlcih7XG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgLi4ucmVzdFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhZGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2267\n')},4537:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  o: () => (/* binding */ UniformGroup)\n});\n\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/utils/data/uid.mjs\nvar uid = __webpack_require__(6258);\n// EXTERNAL MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/utils/createIdFromString.mjs\nvar createIdFromString = __webpack_require__(8460);\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/shader/types.mjs\n\nconst UNIFORM_TYPES_VALUES = [\n  "f32",\n  "i32",\n  "vec2<f32>",\n  "vec3<f32>",\n  "vec4<f32>",\n  "mat2x2<f32>",\n  "mat3x3<f32>",\n  "mat4x4<f32>",\n  "mat3x2<f32>",\n  "mat4x2<f32>",\n  "mat2x3<f32>",\n  "mat4x3<f32>",\n  "mat2x4<f32>",\n  "mat3x4<f32>"\n];\nconst UNIFORM_TYPES_MAP = UNIFORM_TYPES_VALUES.reduce((acc, type) => {\n  acc[type] = true;\n  return acc;\n}, {});\n\n\n//# sourceMappingURL=types.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/shader/utils/getDefaultUniformValue.mjs\n\nfunction getDefaultUniformValue(type, size) {\n  switch (type) {\n    case "f32":\n      return 0;\n    case "vec2<f32>":\n      return new Float32Array(2 * size);\n    case "vec3<f32>":\n      return new Float32Array(3 * size);\n    case "vec4<f32>":\n      return new Float32Array(4 * size);\n    case "mat2x2<f32>":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case "mat3x3<f32>":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case "mat4x4<f32>":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\n\n\n//# sourceMappingURL=getDefaultUniformValue.mjs.map\n\n;// CONCATENATED MODULE: ./node_modules/pixi.js/lib/rendering/renderers/shared/shader/UniformGroup.mjs\n\n\n\n\n\n"use strict";\nconst _UniformGroup = class _UniformGroup {\n  /**\n   * Create a new Uniform group\n   * @param uniformStructures - The structures of the uniform group\n   * @param options - The optional parameters of this uniform group\n   */\n  constructor(uniformStructures, options) {\n    /** used internally to know if a uniform group was used in the last render pass */\n    this._touched = 0;\n    /** a unique id for this uniform group used through the renderer */\n    this.uid = (0,uid/* uid */.h)("uniform");\n    /** a resource type, used to identify how to handle it when its in a bind group / shader resource */\n    this._resourceType = "uniformGroup";\n    /** the resource id used internally by the renderer to build bind group keys */\n    this._resourceId = (0,uid/* uid */.h)("resource");\n    /** used ito identify if this is a uniform group */\n    this.isUniformGroup = true;\n    /**\n     * used to flag if this Uniform groups data is different from what it has stored in its buffer / on the GPU\n     * @internal\n     * @ignore\n     */\n    this._dirtyId = 0;\n    // implementing the interface - UniformGroup are not destroyed\n    this.destroyed = false;\n    options = { ..._UniformGroup.defaultOptions, ...options };\n    this.uniformStructures = uniformStructures;\n    const uniforms = {};\n    for (const i in uniformStructures) {\n      const uniformData = uniformStructures[i];\n      uniformData.name = i;\n      uniformData.size = uniformData.size ?? 1;\n      if (!UNIFORM_TYPES_MAP[uniformData.type]) {\n        throw new Error(`Uniform type ${uniformData.type} is not supported. Supported uniform types are: ${UNIFORM_TYPES_VALUES.join(", ")}`);\n      }\n      uniformData.value ?? (uniformData.value = getDefaultUniformValue(uniformData.type, uniformData.size));\n      uniforms[i] = uniformData.value;\n    }\n    this.uniforms = uniforms;\n    this._dirtyId = 1;\n    this.ubo = options.ubo;\n    this.isStatic = options.isStatic;\n    this._signature = (0,createIdFromString/* createIdFromString */.Z)(Object.keys(uniforms).map(\n      (i) => `${i}-${uniformStructures[i].type}`\n    ).join("-"), "uniform-group");\n  }\n  /** Call this if you want the uniform groups data to be uploaded to the GPU only useful if `isStatic` is true. */\n  update() {\n    this._dirtyId++;\n  }\n};\n/** The default options used by the uniform group. */\n_UniformGroup.defaultOptions = {\n  /** if true the UniformGroup is handled as an Uniform buffer object. */\n  ubo: false,\n  /** if true, then you are responsible for when the data is uploaded to the GPU by calling `update()` */\n  isStatic: false\n};\nlet UniformGroup = _UniformGroup;\n\n\n//# sourceMappingURL=UniformGroup.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUzNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLElBQUk7O0FBRThDO0FBQ25EOzs7QUN2QmE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtDO0FBQ2xDOzs7QUN0RHFEO0FBQ2dCO0FBQ0M7QUFDTTs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLHdDQUF3QyxrQkFBa0IsaURBQWlELG9CQUFvQixZQUFZO0FBQzNJO0FBQ0EsZ0RBQWdELHNCQUFzQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQWtCO0FBQ3hDLGdCQUFnQixFQUFFLEdBQUcsMEJBQTBCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci90eXBlcy5tanM/MjBjOCIsIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy9nZXREZWZhdWx0VW5pZm9ybVZhbHVlLm1qcz9jZmU2Iiwid2VicGFjazovL0BtYXNhdG9tYWtpbm8vdGhyZWVqcy1iaWxsYm9hcmQvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanM/OGQ0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IFVOSUZPUk1fVFlQRVNfVkFMVUVTID0gW1xuICBcImYzMlwiLFxuICBcImkzMlwiLFxuICBcInZlYzI8ZjMyPlwiLFxuICBcInZlYzM8ZjMyPlwiLFxuICBcInZlYzQ8ZjMyPlwiLFxuICBcIm1hdDJ4MjxmMzI+XCIsXG4gIFwibWF0M3gzPGYzMj5cIixcbiAgXCJtYXQ0eDQ8ZjMyPlwiLFxuICBcIm1hdDN4MjxmMzI+XCIsXG4gIFwibWF0NHgyPGYzMj5cIixcbiAgXCJtYXQyeDM8ZjMyPlwiLFxuICBcIm1hdDR4MzxmMzI+XCIsXG4gIFwibWF0Mng0PGYzMj5cIixcbiAgXCJtYXQzeDQ8ZjMyPlwiXG5dO1xuY29uc3QgVU5JRk9STV9UWVBFU19NQVAgPSBVTklGT1JNX1RZUEVTX1ZBTFVFUy5yZWR1Y2UoKGFjYywgdHlwZSkgPT4ge1xuICBhY2NbdHlwZV0gPSB0cnVlO1xuICByZXR1cm4gYWNjO1xufSwge30pO1xuXG5leHBvcnQgeyBVTklGT1JNX1RZUEVTX01BUCwgVU5JRk9STV9UWVBFU19WQUxVRVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFVuaWZvcm1WYWx1ZSh0eXBlLCBzaXplKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJmMzJcIjpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgXCJ2ZWMyPGYzMj5cIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcbiAgICBjYXNlIFwidmVjMzxmMzI+XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG4gICAgY2FzZSBcInZlYzQ8ZjMyPlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgIGNhc2UgXCJtYXQyeDI8ZjMyPlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgICBdKTtcbiAgICBjYXNlIFwibWF0M3gzPGYzMj5cIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMVxuICAgICAgXSk7XG4gICAgY2FzZSBcIm1hdDR4NDxmMzI+XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDFcbiAgICAgIF0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXREZWZhdWx0VW5pZm9ybVZhbHVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXREZWZhdWx0VW5pZm9ybVZhbHVlLm1qcy5tYXBcbiIsImltcG9ydCB7IHVpZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvdWlkLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVJZEZyb21TdHJpbmcgfSBmcm9tICcuLi91dGlscy9jcmVhdGVJZEZyb21TdHJpbmcubWpzJztcbmltcG9ydCB7IFVOSUZPUk1fVFlQRVNfTUFQLCBVTklGT1JNX1RZUEVTX1ZBTFVFUyB9IGZyb20gJy4vdHlwZXMubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRVbmlmb3JtVmFsdWUgfSBmcm9tICcuL3V0aWxzL2dldERlZmF1bHRVbmlmb3JtVmFsdWUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfVW5pZm9ybUdyb3VwID0gY2xhc3MgX1VuaWZvcm1Hcm91cCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVW5pZm9ybSBncm91cFxuICAgKiBAcGFyYW0gdW5pZm9ybVN0cnVjdHVyZXMgLSBUaGUgc3RydWN0dXJlcyBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25hbCBwYXJhbWV0ZXJzIG9mIHRoaXMgdW5pZm9ybSBncm91cFxuICAgKi9cbiAgY29uc3RydWN0b3IodW5pZm9ybVN0cnVjdHVyZXMsIG9wdGlvbnMpIHtcbiAgICAvKiogdXNlZCBpbnRlcm5hbGx5IHRvIGtub3cgaWYgYSB1bmlmb3JtIGdyb3VwIHdhcyB1c2VkIGluIHRoZSBsYXN0IHJlbmRlciBwYXNzICovXG4gICAgdGhpcy5fdG91Y2hlZCA9IDA7XG4gICAgLyoqIGEgdW5pcXVlIGlkIGZvciB0aGlzIHVuaWZvcm0gZ3JvdXAgdXNlZCB0aHJvdWdoIHRoZSByZW5kZXJlciAqL1xuICAgIHRoaXMudWlkID0gdWlkKFwidW5pZm9ybVwiKTtcbiAgICAvKiogYSByZXNvdXJjZSB0eXBlLCB1c2VkIHRvIGlkZW50aWZ5IGhvdyB0byBoYW5kbGUgaXQgd2hlbiBpdHMgaW4gYSBiaW5kIGdyb3VwIC8gc2hhZGVyIHJlc291cmNlICovXG4gICAgdGhpcy5fcmVzb3VyY2VUeXBlID0gXCJ1bmlmb3JtR3JvdXBcIjtcbiAgICAvKiogdGhlIHJlc291cmNlIGlkIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcmVuZGVyZXIgdG8gYnVpbGQgYmluZCBncm91cCBrZXlzICovXG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIC8qKiB1c2VkIGl0byBpZGVudGlmeSBpZiB0aGlzIGlzIGEgdW5pZm9ybSBncm91cCAqL1xuICAgIHRoaXMuaXNVbmlmb3JtR3JvdXAgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIHVzZWQgdG8gZmxhZyBpZiB0aGlzIFVuaWZvcm0gZ3JvdXBzIGRhdGEgaXMgZGlmZmVyZW50IGZyb20gd2hhdCBpdCBoYXMgc3RvcmVkIGluIGl0cyBidWZmZXIgLyBvbiB0aGUgR1BVXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX2RpcnR5SWQgPSAwO1xuICAgIC8vIGltcGxlbWVudGluZyB0aGUgaW50ZXJmYWNlIC0gVW5pZm9ybUdyb3VwIGFyZSBub3QgZGVzdHJveWVkXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICBvcHRpb25zID0geyAuLi5fVW5pZm9ybUdyb3VwLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy51bmlmb3JtU3RydWN0dXJlcyA9IHVuaWZvcm1TdHJ1Y3R1cmVzO1xuICAgIGNvbnN0IHVuaWZvcm1zID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHVuaWZvcm1TdHJ1Y3R1cmVzKSB7XG4gICAgICBjb25zdCB1bmlmb3JtRGF0YSA9IHVuaWZvcm1TdHJ1Y3R1cmVzW2ldO1xuICAgICAgdW5pZm9ybURhdGEubmFtZSA9IGk7XG4gICAgICB1bmlmb3JtRGF0YS5zaXplID0gdW5pZm9ybURhdGEuc2l6ZSA/PyAxO1xuICAgICAgaWYgKCFVTklGT1JNX1RZUEVTX01BUFt1bmlmb3JtRGF0YS50eXBlXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaWZvcm0gdHlwZSAke3VuaWZvcm1EYXRhLnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWQuIFN1cHBvcnRlZCB1bmlmb3JtIHR5cGVzIGFyZTogJHtVTklGT1JNX1RZUEVTX1ZBTFVFUy5qb2luKFwiLCBcIil9YCk7XG4gICAgICB9XG4gICAgICB1bmlmb3JtRGF0YS52YWx1ZSA/PyAodW5pZm9ybURhdGEudmFsdWUgPSBnZXREZWZhdWx0VW5pZm9ybVZhbHVlKHVuaWZvcm1EYXRhLnR5cGUsIHVuaWZvcm1EYXRhLnNpemUpKTtcbiAgICAgIHVuaWZvcm1zW2ldID0gdW5pZm9ybURhdGEudmFsdWU7XG4gICAgfVxuICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICB0aGlzLl9kaXJ0eUlkID0gMTtcbiAgICB0aGlzLnVibyA9IG9wdGlvbnMudWJvO1xuICAgIHRoaXMuaXNTdGF0aWMgPSBvcHRpb25zLmlzU3RhdGljO1xuICAgIHRoaXMuX3NpZ25hdHVyZSA9IGNyZWF0ZUlkRnJvbVN0cmluZyhPYmplY3Qua2V5cyh1bmlmb3JtcykubWFwKFxuICAgICAgKGkpID0+IGAke2l9LSR7dW5pZm9ybVN0cnVjdHVyZXNbaV0udHlwZX1gXG4gICAgKS5qb2luKFwiLVwiKSwgXCJ1bmlmb3JtLWdyb3VwXCIpO1xuICB9XG4gIC8qKiBDYWxsIHRoaXMgaWYgeW91IHdhbnQgdGhlIHVuaWZvcm0gZ3JvdXBzIGRhdGEgdG8gYmUgdXBsb2FkZWQgdG8gdGhlIEdQVSBvbmx5IHVzZWZ1bCBpZiBgaXNTdGF0aWNgIGlzIHRydWUuICovXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9kaXJ0eUlkKys7XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSB1bmlmb3JtIGdyb3VwLiAqL1xuX1VuaWZvcm1Hcm91cC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIGlmIHRydWUgdGhlIFVuaWZvcm1Hcm91cCBpcyBoYW5kbGVkIGFzIGFuIFVuaWZvcm0gYnVmZmVyIG9iamVjdC4gKi9cbiAgdWJvOiBmYWxzZSxcbiAgLyoqIGlmIHRydWUsIHRoZW4geW91IGFyZSByZXNwb25zaWJsZSBmb3Igd2hlbiB0aGUgZGF0YSBpcyB1cGxvYWRlZCB0byB0aGUgR1BVIGJ5IGNhbGxpbmcgYHVwZGF0ZSgpYCAqL1xuICBpc1N0YXRpYzogZmFsc2Vcbn07XG5sZXQgVW5pZm9ybUdyb3VwID0gX1VuaWZvcm1Hcm91cDtcblxuZXhwb3J0IHsgVW5pZm9ybUdyb3VwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbmlmb3JtR3JvdXAubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4537\n')},6798:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Z: () => (/* binding */ State)\n/* harmony export */ });\n\nconst blendModeIds = {\n  normal: 0,\n  add: 1,\n  multiply: 2,\n  screen: 3,\n  overlay: 4,\n  erase: 5,\n  "normal-npm": 6,\n  "add-npm": 7,\n  "screen-npm": 8\n};\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nconst _State = class _State {\n  constructor() {\n    this.data = 0;\n    this.blendMode = "normal";\n    this.polygonOffset = 0;\n    this.blend = true;\n    this.depthMask = true;\n  }\n  /**\n   * Activates blending of the computed fragment color values.\n   * @default true\n   */\n  get blend() {\n    return !!(this.data & 1 << BLEND);\n  }\n  set blend(value) {\n    if (!!(this.data & 1 << BLEND) !== value) {\n      this.data ^= 1 << BLEND;\n    }\n  }\n  /**\n   * Activates adding an offset to depth values of polygon\'s fragments\n   * @default false\n   */\n  get offsets() {\n    return !!(this.data & 1 << OFFSET);\n  }\n  set offsets(value) {\n    if (!!(this.data & 1 << OFFSET) !== value) {\n      this.data ^= 1 << OFFSET;\n    }\n  }\n  /** The culling settings for this state none - No culling back - Back face culling front - Front face culling */\n  set cullMode(value) {\n    if (value === "none") {\n      this.culling = false;\n      return;\n    }\n    this.culling = true;\n    this.clockwiseFrontFace = value === "front";\n  }\n  get cullMode() {\n    if (!this.culling) {\n      return "none";\n    }\n    return this.clockwiseFrontFace ? "front" : "back";\n  }\n  /**\n   * Activates culling of polygons.\n   * @default false\n   */\n  get culling() {\n    return !!(this.data & 1 << CULLING);\n  }\n  set culling(value) {\n    if (!!(this.data & 1 << CULLING) !== value) {\n      this.data ^= 1 << CULLING;\n    }\n  }\n  /**\n   * Activates depth comparisons and updates to the depth buffer.\n   * @default false\n   */\n  get depthTest() {\n    return !!(this.data & 1 << DEPTH_TEST);\n  }\n  set depthTest(value) {\n    if (!!(this.data & 1 << DEPTH_TEST) !== value) {\n      this.data ^= 1 << DEPTH_TEST;\n    }\n  }\n  /**\n   * Enables or disables writing to the depth buffer.\n   * @default true\n   */\n  get depthMask() {\n    return !!(this.data & 1 << DEPTH_MASK);\n  }\n  set depthMask(value) {\n    if (!!(this.data & 1 << DEPTH_MASK) !== value) {\n      this.data ^= 1 << DEPTH_MASK;\n    }\n  }\n  /**\n   * Specifies whether or not front or back-facing polygons can be culled.\n   * @default false\n   */\n  get clockwiseFrontFace() {\n    return !!(this.data & 1 << WINDING);\n  }\n  set clockwiseFrontFace(value) {\n    if (!!(this.data & 1 << WINDING) !== value) {\n      this.data ^= 1 << WINDING;\n    }\n  }\n  /**\n   * The blend mode to be applied when this state is set. Apply a value of `normal` to reset the blend mode.\n   * Setting this mode to anything other than NO_BLEND will automatically switch blending on.\n   * @default \'normal\'\n   */\n  get blendMode() {\n    return this._blendMode;\n  }\n  set blendMode(value) {\n    this.blend = value !== "none";\n    this._blendMode = value;\n    this._blendModeId = blendModeIds[value] || 0;\n  }\n  /**\n   * The polygon offset. Setting this property to anything other than 0 will automatically enable polygon offset fill.\n   * @default 0\n   */\n  get polygonOffset() {\n    return this._polygonOffset;\n  }\n  set polygonOffset(value) {\n    this.offsets = !!value;\n    this._polygonOffset = value;\n  }\n  toString() {\n    return `[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;\n  }\n  /**\n   * A quickly getting an instance of a State that is configured for 2d rendering.\n   * @returns a new State with values set for 2d rendering\n   */\n  static for2d() {\n    const state = new _State();\n    state.depthTest = false;\n    state.blend = true;\n    return state;\n  }\n};\n_State.default2d = _State.for2d();\nlet State = _State;\n\n\n//# sourceMappingURL=State.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjc5OC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0JBQWdCLHFCQUFxQix5QkFBeUIsVUFBVSxjQUFjLFlBQVksZ0JBQWdCLGdCQUFnQixtQkFBbUI7QUFDak07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcz8xZjc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYmxlbmRNb2RlSWRzID0ge1xuICBub3JtYWw6IDAsXG4gIGFkZDogMSxcbiAgbXVsdGlwbHk6IDIsXG4gIHNjcmVlbjogMyxcbiAgb3ZlcmxheTogNCxcbiAgZXJhc2U6IDUsXG4gIFwibm9ybWFsLW5wbVwiOiA2LFxuICBcImFkZC1ucG1cIjogNyxcbiAgXCJzY3JlZW4tbnBtXCI6IDhcbn07XG5jb25zdCBCTEVORCA9IDA7XG5jb25zdCBPRkZTRVQgPSAxO1xuY29uc3QgQ1VMTElORyA9IDI7XG5jb25zdCBERVBUSF9URVNUID0gMztcbmNvbnN0IFdJTkRJTkcgPSA0O1xuY29uc3QgREVQVEhfTUFTSyA9IDU7XG5jb25zdCBfU3RhdGUgPSBjbGFzcyBfU3RhdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRhdGEgPSAwO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gXCJub3JtYWxcIjtcbiAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgIHRoaXMuZGVwdGhNYXNrID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXMuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGdldCBibGVuZCgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCk7XG4gIH1cbiAgc2V0IGJsZW5kKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgQkxFTkQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IG9mZnNldHMoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKTtcbiAgfVxuICBzZXQgb2Zmc2V0cyh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBPRkZTRVQ7XG4gICAgfVxuICB9XG4gIC8qKiBUaGUgY3VsbGluZyBzZXR0aW5ncyBmb3IgdGhpcyBzdGF0ZSBub25lIC0gTm8gY3VsbGluZyBiYWNrIC0gQmFjayBmYWNlIGN1bGxpbmcgZnJvbnQgLSBGcm9udCBmYWNlIGN1bGxpbmcgKi9cbiAgc2V0IGN1bGxNb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBcIm5vbmVcIikge1xuICAgICAgdGhpcy5jdWxsaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VsbGluZyA9IHRydWU7XG4gICAgdGhpcy5jbG9ja3dpc2VGcm9udEZhY2UgPSB2YWx1ZSA9PT0gXCJmcm9udFwiO1xuICB9XG4gIGdldCBjdWxsTW9kZSgpIHtcbiAgICBpZiAoIXRoaXMuY3VsbGluZykge1xuICAgICAgcmV0dXJuIFwibm9uZVwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbG9ja3dpc2VGcm9udEZhY2UgPyBcImZyb250XCIgOiBcImJhY2tcIjtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY3VsbGluZygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKTtcbiAgfVxuICBzZXQgY3VsbGluZyh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgQ1VMTElORztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBkZXB0aCBjb21wYXJpc29ucyBhbmQgdXBkYXRlcyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGRlcHRoVGVzdCgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKTtcbiAgfVxuICBzZXQgZGVwdGhUZXN0KHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9URVNUO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB3cml0aW5nIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGdldCBkZXB0aE1hc2soKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSyk7XG4gIH1cbiAgc2V0IGRlcHRoTWFzayh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfTUFTSztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGNsb2Nrd2lzZUZyb250RmFjZSgpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKTtcbiAgfVxuICBzZXQgY2xvY2t3aXNlRnJvbnRGYWNlKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBXSU5ESU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBub3JtYWxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAqIEBkZWZhdWx0ICdub3JtYWwnXG4gICAqL1xuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gIH1cbiAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuYmxlbmQgPSB2YWx1ZSAhPT0gXCJub25lXCI7XG4gICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgdGhpcy5fYmxlbmRNb2RlSWQgPSBibGVuZE1vZGVJZHNbdmFsdWVdIHx8IDA7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGdldCBwb2x5Z29uT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICB9XG4gIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlKSB7XG4gICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbcGl4aS5qcy9jb3JlOlN0YXRlIGJsZW5kTW9kZT0ke3RoaXMuYmxlbmRNb2RlfSBjbG9ja3dpc2VGcm9udEZhY2U9JHt0aGlzLmNsb2Nrd2lzZUZyb250RmFjZX0gY3VsbGluZz0ke3RoaXMuY3VsbGluZ30gZGVwdGhNYXNrPSR7dGhpcy5kZXB0aE1hc2t9IHBvbHlnb25PZmZzZXQ9JHt0aGlzLnBvbHlnb25PZmZzZXR9XWA7XG4gIH1cbiAgLyoqXG4gICAqIEEgcXVpY2tseSBnZXR0aW5nIGFuIGluc3RhbmNlIG9mIGEgU3RhdGUgdGhhdCBpcyBjb25maWd1cmVkIGZvciAyZCByZW5kZXJpbmcuXG4gICAqIEByZXR1cm5zIGEgbmV3IFN0YXRlIHdpdGggdmFsdWVzIHNldCBmb3IgMmQgcmVuZGVyaW5nXG4gICAqL1xuICBzdGF0aWMgZm9yMmQoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgX1N0YXRlKCk7XG4gICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcbl9TdGF0ZS5kZWZhdWx0MmQgPSBfU3RhdGUuZm9yMmQoKTtcbmxldCBTdGF0ZSA9IF9TdGF0ZTtcblxuZXhwb3J0IHsgU3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YXRlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6798\n')},6669:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   z: () => (/* binding */ TexturePool)\n/* harmony export */ });\n/* unused harmony export TexturePoolClass */\n/* harmony import */ var _maths_misc_pow2_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4181);\n/* harmony import */ var _sources_TextureSource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5206);\n/* harmony import */ var _Texture_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9853);\n\n\n\n\n"use strict";\nlet count = 0;\nclass TexturePoolClass {\n  /**\n   * @param textureOptions - options that will be passed to BaseRenderTexture constructor\n   * @param {SCALE_MODE} [textureOptions.scaleMode] - See {@link SCALE_MODE} for possible values.\n   */\n  constructor(textureOptions) {\n    this._poolKeyHash = /* @__PURE__ */ Object.create(null);\n    this._texturePool = {};\n    this.textureOptions = textureOptions || {};\n    this.enableFullScreen = false;\n  }\n  /**\n   * Creates texture with params that were specified in pool constructor.\n   * @param pixelWidth - Width of texture in pixels.\n   * @param pixelHeight - Height of texture in pixels.\n   * @param antialias\n   */\n  createTexture(pixelWidth, pixelHeight, antialias) {\n    const textureSource = new _sources_TextureSource_mjs__WEBPACK_IMPORTED_MODULE_0__/* .TextureSource */ .p({\n      ...this.textureOptions,\n      width: pixelWidth,\n      height: pixelHeight,\n      resolution: 1,\n      antialias,\n      autoGarbageCollect: true\n    });\n    return new _Texture_mjs__WEBPACK_IMPORTED_MODULE_1__/* .Texture */ .x({\n      source: textureSource,\n      label: `texturePool_${count++}`\n    });\n  }\n  /**\n   * Gets a Power-of-Two render texture or fullScreen texture\n   * @param frameWidth - The minimum width of the render texture.\n   * @param frameHeight - The minimum height of the render texture.\n   * @param resolution - The resolution of the render texture.\n   * @param antialias\n   * @returns The new render texture.\n   */\n  getOptimalTexture(frameWidth, frameHeight, resolution = 1, antialias) {\n    let po2Width = Math.ceil(frameWidth * resolution - 1e-6);\n    let po2Height = Math.ceil(frameHeight * resolution - 1e-6);\n    po2Width = (0,_maths_misc_pow2_mjs__WEBPACK_IMPORTED_MODULE_2__/* .nextPow2 */ .a9)(po2Width);\n    po2Height = (0,_maths_misc_pow2_mjs__WEBPACK_IMPORTED_MODULE_2__/* .nextPow2 */ .a9)(po2Height);\n    const key = (po2Width << 17) + (po2Height << 1) + (antialias ? 1 : 0);\n    if (!this._texturePool[key]) {\n      this._texturePool[key] = [];\n    }\n    let texture = this._texturePool[key].pop();\n    if (!texture) {\n      texture = this.createTexture(po2Width, po2Height, antialias);\n    }\n    texture.source._resolution = resolution;\n    texture.source.width = po2Width / resolution;\n    texture.source.height = po2Height / resolution;\n    texture.source.pixelWidth = po2Width;\n    texture.source.pixelHeight = po2Height;\n    texture.frame.x = 0;\n    texture.frame.y = 0;\n    texture.frame.width = frameWidth;\n    texture.frame.height = frameHeight;\n    texture.updateUvs();\n    this._poolKeyHash[texture.uid] = key;\n    return texture;\n  }\n  /**\n   * Gets extra texture of the same size as input renderTexture\n   * @param texture - The texture to check what size it is.\n   * @param antialias - Whether to use antialias.\n   * @returns A texture that is a power of two\n   */\n  getSameSizeTexture(texture, antialias = false) {\n    const source = texture.source;\n    return this.getOptimalTexture(texture.width, texture.height, source._resolution, antialias);\n  }\n  /**\n   * Place a render texture back into the pool.\n   * @param renderTexture - The renderTexture to free\n   */\n  returnTexture(renderTexture) {\n    const key = this._poolKeyHash[renderTexture.uid];\n    this._texturePool[key].push(renderTexture);\n  }\n  /**\n   * Clears the pool.\n   * @param destroyTextures - Destroy all stored textures.\n   */\n  clear(destroyTextures) {\n    destroyTextures = destroyTextures !== false;\n    if (destroyTextures) {\n      for (const i in this._texturePool) {\n        const textures = this._texturePool[i];\n        if (textures) {\n          for (let j = 0; j < textures.length; j++) {\n            textures[j].destroy(true);\n          }\n        }\n      }\n    }\n    this._texturePool = {};\n  }\n}\nconst TexturePool = new TexturePoolClass();\n\n\n//# sourceMappingURL=TexturePool.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjY2OS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ0M7QUFDcEI7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVksa0NBQWtDLGtCQUFrQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhFQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLDBEQUFPO0FBQ3RCO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0VBQVE7QUFDdkIsZ0JBQWdCLHdFQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFCQUFxQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXlDO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcz9mNDU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWlzYy9wb3cyLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU291cmNlIH0gZnJvbSAnLi9zb3VyY2VzL1RleHR1cmVTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuL1RleHR1cmUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgY291bnQgPSAwO1xuY2xhc3MgVGV4dHVyZVBvb2xDbGFzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gdGV4dHVyZU9wdGlvbnMgLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtTQ0FMRV9NT0RFfSBbdGV4dHVyZU9wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgU0NBTEVfTU9ERX0gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHR1cmVPcHRpb25zKSB7XG4gICAgdGhpcy5fcG9vbEtleUhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl90ZXh0dXJlUG9vbCA9IHt9O1xuICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3Rvci5cbiAgICogQHBhcmFtIHBpeGVsV2lkdGggLSBXaWR0aCBvZiB0ZXh0dXJlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHBpeGVsSGVpZ2h0IC0gSGVpZ2h0IG9mIHRleHR1cmUgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0gYW50aWFsaWFzXG4gICAqL1xuICBjcmVhdGVUZXh0dXJlKHBpeGVsV2lkdGgsIHBpeGVsSGVpZ2h0LCBhbnRpYWxpYXMpIHtcbiAgICBjb25zdCB0ZXh0dXJlU291cmNlID0gbmV3IFRleHR1cmVTb3VyY2Uoe1xuICAgICAgLi4udGhpcy50ZXh0dXJlT3B0aW9ucyxcbiAgICAgIHdpZHRoOiBwaXhlbFdpZHRoLFxuICAgICAgaGVpZ2h0OiBwaXhlbEhlaWdodCxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICBhbnRpYWxpYXMsXG4gICAgICBhdXRvR2FyYmFnZUNvbGxlY3Q6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFRleHR1cmUoe1xuICAgICAgc291cmNlOiB0ZXh0dXJlU291cmNlLFxuICAgICAgbGFiZWw6IGB0ZXh0dXJlUG9vbF8ke2NvdW50Kyt9YFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgKiBAcGFyYW0gZnJhbWVXaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIGZyYW1lSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSBhbnRpYWxpYXNcbiAgICogQHJldHVybnMgVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICovXG4gIGdldE9wdGltYWxUZXh0dXJlKGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0LCByZXNvbHV0aW9uID0gMSwgYW50aWFsaWFzKSB7XG4gICAgbGV0IHBvMldpZHRoID0gTWF0aC5jZWlsKGZyYW1lV2lkdGggKiByZXNvbHV0aW9uIC0gMWUtNik7XG4gICAgbGV0IHBvMkhlaWdodCA9IE1hdGguY2VpbChmcmFtZUhlaWdodCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBwbzJXaWR0aCA9IG5leHRQb3cyKHBvMldpZHRoKTtcbiAgICBwbzJIZWlnaHQgPSBuZXh0UG93MihwbzJIZWlnaHQpO1xuICAgIGNvbnN0IGtleSA9IChwbzJXaWR0aCA8PCAxNykgKyAocG8ySGVpZ2h0IDw8IDEpICsgKGFudGlhbGlhcyA/IDEgOiAwKTtcbiAgICBpZiAoIXRoaXMuX3RleHR1cmVQb29sW2tleV0pIHtcbiAgICAgIHRoaXMuX3RleHR1cmVQb29sW2tleV0gPSBbXTtcbiAgICB9XG4gICAgbGV0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgdGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShwbzJXaWR0aCwgcG8ySGVpZ2h0LCBhbnRpYWxpYXMpO1xuICAgIH1cbiAgICB0ZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgdGV4dHVyZS5zb3VyY2Uud2lkdGggPSBwbzJXaWR0aCAvIHJlc29sdXRpb247XG4gICAgdGV4dHVyZS5zb3VyY2UuaGVpZ2h0ID0gcG8ySGVpZ2h0IC8gcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnNvdXJjZS5waXhlbFdpZHRoID0gcG8yV2lkdGg7XG4gICAgdGV4dHVyZS5zb3VyY2UucGl4ZWxIZWlnaHQgPSBwbzJIZWlnaHQ7XG4gICAgdGV4dHVyZS5mcmFtZS54ID0gMDtcbiAgICB0ZXh0dXJlLmZyYW1lLnkgPSAwO1xuICAgIHRleHR1cmUuZnJhbWUud2lkdGggPSBmcmFtZVdpZHRoO1xuICAgIHRleHR1cmUuZnJhbWUuaGVpZ2h0ID0gZnJhbWVIZWlnaHQ7XG4gICAgdGV4dHVyZS51cGRhdGVVdnMoKTtcbiAgICB0aGlzLl9wb29sS2V5SGFzaFt0ZXh0dXJlLnVpZF0gPSBrZXk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAgICogQHBhcmFtIHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byBjaGVjayB3aGF0IHNpemUgaXQgaXMuXG4gICAqIEBwYXJhbSBhbnRpYWxpYXMgLSBXaGV0aGVyIHRvIHVzZSBhbnRpYWxpYXMuXG4gICAqIEByZXR1cm5zIEEgdGV4dHVyZSB0aGF0IGlzIGEgcG93ZXIgb2YgdHdvXG4gICAqL1xuICBnZXRTYW1lU2l6ZVRleHR1cmUodGV4dHVyZSwgYW50aWFsaWFzID0gZmFsc2UpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0ZXh0dXJlLnNvdXJjZTtcbiAgICByZXR1cm4gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgc291cmNlLl9yZXNvbHV0aW9uLCBhbnRpYWxpYXMpO1xuICB9XG4gIC8qKlxuICAgKiBQbGFjZSBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAqL1xuICByZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLl9wb29sS2V5SGFzaFtyZW5kZXJUZXh0dXJlLnVpZF07XG4gICAgdGhpcy5fdGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHBvb2wuXG4gICAqIEBwYXJhbSBkZXN0cm95VGV4dHVyZXMgLSBEZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXMuXG4gICAqL1xuICBjbGVhcihkZXN0cm95VGV4dHVyZXMpIHtcbiAgICBkZXN0cm95VGV4dHVyZXMgPSBkZXN0cm95VGV4dHVyZXMgIT09IGZhbHNlO1xuICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90ZXh0dXJlUG9vbCkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RleHR1cmVQb29sW2ldO1xuICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl90ZXh0dXJlUG9vbCA9IHt9O1xuICB9XG59XG5jb25zdCBUZXh0dXJlUG9vbCA9IG5ldyBUZXh0dXJlUG9vbENsYXNzKCk7XG5cbmV4cG9ydCB7IFRleHR1cmVQb29sLCBUZXh0dXJlUG9vbENsYXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlUG9vbC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6669\n')},8460:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Z: () => (/* binding */ createIdFromString)\n/* harmony export */ });\n\nconst idCounts = /* @__PURE__ */ Object.create(null);\nconst idHash = /* @__PURE__ */ Object.create(null);\nfunction createIdFromString(value, groupId) {\n  let id = idHash[value];\n  if (id === void 0) {\n    if (idCounts[groupId] === void 0) {\n      idCounts[groupId] = 1;\n    }\n    idHash[value] = id = idCounts[groupId]++;\n  }\n  return id;\n}\n\n\n//# sourceMappingURL=createIdFromString.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ2MC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3V0aWxzL2NyZWF0ZUlkRnJvbVN0cmluZy5tanM/MDE2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGlkQ291bnRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBpZEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGNyZWF0ZUlkRnJvbVN0cmluZyh2YWx1ZSwgZ3JvdXBJZCkge1xuICBsZXQgaWQgPSBpZEhhc2hbdmFsdWVdO1xuICBpZiAoaWQgPT09IHZvaWQgMCkge1xuICAgIGlmIChpZENvdW50c1tncm91cElkXSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZENvdW50c1tncm91cElkXSA9IDE7XG4gICAgfVxuICAgIGlkSGFzaFt2YWx1ZV0gPSBpZCA9IGlkQ291bnRzW2dyb3VwSWRdKys7XG4gIH1cbiAgcmV0dXJuIGlkO1xufVxuXG5leHBvcnQgeyBjcmVhdGVJZEZyb21TdHJpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUlkRnJvbVN0cmluZy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8460\n")},9989:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   V: () => (/* binding */ color32BitToUniform)\n/* harmony export */ });\n/* unused harmony export colorToUniform */\n\nfunction colorToUniform(rgb, alpha, out, offset) {\n  out[offset++] = (rgb >> 16 & 255) / 255;\n  out[offset++] = (rgb >> 8 & 255) / 255;\n  out[offset++] = (rgb & 255) / 255;\n  out[offset++] = alpha;\n}\nfunction color32BitToUniform(abgr, out, offset) {\n  const alpha = (abgr >> 24 & 255) / 255;\n  out[offset++] = (abgr & 255) / 255 * alpha;\n  out[offset++] = (abgr >> 8 & 255) / 255 * alpha;\n  out[offset++] = (abgr >> 16 & 255) / 255 * alpha;\n  out[offset++] = alpha;\n}\n\n\n//# sourceMappingURL=colorToUniform.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk4OS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFK0M7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWFzYXRvbWFraW5vL3RocmVlanMtYmlsbGJvYXJkLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanM/MmNlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbG9yVG9Vbmlmb3JtKHJnYiwgYWxwaGEsIG91dCwgb2Zmc2V0KSB7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuZnVuY3Rpb24gY29sb3IzMkJpdFRvVW5pZm9ybShhYmdyLCBvdXQsIG9mZnNldCkge1xuICBjb25zdCBhbHBoYSA9IChhYmdyID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gOCAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDE2ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5cbmV4cG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0sIGNvbG9yVG9Vbmlmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvclRvVW5pZm9ybS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9989\n")},900:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ BatchableSprite)\n/* harmony export */ });\n\nclass BatchableSprite {\n  constructor() {\n    // batch specific..\n    this.vertexSize = 4;\n    this.indexSize = 6;\n    this.location = 0;\n    // location in the buffer\n    this.batcher = null;\n    this.batch = null;\n    this.roundPixels = 0;\n  }\n  get blendMode() {\n    return this.renderable.groupBlendMode;\n  }\n  packAttributes(float32View, uint32View, index, textureId) {\n    const sprite = this.renderable;\n    const texture = this.texture;\n    const wt = sprite.groupTransform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const bounds = this.bounds;\n    const w0 = bounds.maxX;\n    const w1 = bounds.minX;\n    const h0 = bounds.maxY;\n    const h1 = bounds.minY;\n    const uvs = texture.uvs;\n    const argb = sprite.groupColorAlpha;\n    const textureIdAndRound = textureId << 16 | this.roundPixels & 65535;\n    float32View[index + 0] = a * w1 + c * h1 + tx;\n    float32View[index + 1] = d * h1 + b * w1 + ty;\n    float32View[index + 2] = uvs.x0;\n    float32View[index + 3] = uvs.y0;\n    uint32View[index + 4] = argb;\n    uint32View[index + 5] = textureIdAndRound;\n    float32View[index + 6] = a * w0 + c * h1 + tx;\n    float32View[index + 7] = d * h1 + b * w0 + ty;\n    float32View[index + 8] = uvs.x1;\n    float32View[index + 9] = uvs.y1;\n    uint32View[index + 10] = argb;\n    uint32View[index + 11] = textureIdAndRound;\n    float32View[index + 12] = a * w0 + c * h0 + tx;\n    float32View[index + 13] = d * h0 + b * w0 + ty;\n    float32View[index + 14] = uvs.x2;\n    float32View[index + 15] = uvs.y2;\n    uint32View[index + 16] = argb;\n    uint32View[index + 17] = textureIdAndRound;\n    float32View[index + 18] = a * w1 + c * h0 + tx;\n    float32View[index + 19] = d * h0 + b * w1 + ty;\n    float32View[index + 20] = uvs.x3;\n    float32View[index + 21] = uvs.y3;\n    uint32View[index + 22] = argb;\n    uint32View[index + 23] = textureIdAndRound;\n  }\n  packIndex(indexBuffer, index, indicesOffset) {\n    indexBuffer[index] = indicesOffset + 0;\n    indexBuffer[index + 1] = indicesOffset + 1;\n    indexBuffer[index + 2] = indicesOffset + 2;\n    indexBuffer[index + 3] = indicesOffset + 0;\n    indexBuffer[index + 4] = indicesOffset + 2;\n    indexBuffer[index + 5] = indicesOffset + 3;\n  }\n  reset() {\n    this.renderable = null;\n    this.texture = null;\n    this.batcher = null;\n    this.batch = null;\n    this.bounds = null;\n  }\n}\n\n\n//# sourceMappingURL=BatchableSprite.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTAwLmpzIiwibWFwcGluZ3MiOiI7OztBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hc2F0b21ha2luby90aHJlZWpzLWJpbGxib2FyZC8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcz85YzdkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlU3ByaXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMudmVydGV4U2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMubG9jYXRpb24gPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLmJhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cEJsZW5kTW9kZTtcbiAgfVxuICBwYWNrQXR0cmlidXRlcyhmbG9hdDMyVmlldywgdWludDMyVmlldywgaW5kZXgsIHRleHR1cmVJZCkge1xuICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIGNvbnN0IHd0ID0gc3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmJvdW5kcztcbiAgICBjb25zdCB3MCA9IGJvdW5kcy5tYXhYO1xuICAgIGNvbnN0IHcxID0gYm91bmRzLm1pblg7XG4gICAgY29uc3QgaDAgPSBib3VuZHMubWF4WTtcbiAgICBjb25zdCBoMSA9IGJvdW5kcy5taW5ZO1xuICAgIGNvbnN0IHV2cyA9IHRleHR1cmUudXZzO1xuICAgIGNvbnN0IGFyZ2IgPSBzcHJpdGUuZ3JvdXBDb2xvckFscGhhO1xuICAgIGNvbnN0IHRleHR1cmVJZEFuZFJvdW5kID0gdGV4dHVyZUlkIDw8IDE2IHwgdGhpcy5yb3VuZFBpeGVscyAmIDY1NTM1O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAyXSA9IHV2cy54MDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDNdID0gdXZzLnkwO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyA0XSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDVdID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgN10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDhdID0gdXZzLngxO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgOV0gPSB1dnMueTE7XG4gICAgdWludDMyVmlld1tpbmRleCArIDEwXSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDExXSA9IHRleHR1cmVJZEFuZFJvdW5kO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTJdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxM10gPSBkICogaDAgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE0XSA9IHV2cy54MjtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHV2cy55MjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTZdID0gYXJnYjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTddID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxOF0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE5XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjBdID0gdXZzLngzO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjFdID0gdXZzLnkzO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyMl0gPSBhcmdiO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyM10gPSB0ZXh0dXJlSWRBbmRSb3VuZDtcbiAgfVxuICBwYWNrSW5kZXgoaW5kZXhCdWZmZXIsIGluZGV4LCBpbmRpY2VzT2Zmc2V0KSB7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXhdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyAxXSA9IGluZGljZXNPZmZzZXQgKyAxO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgMl0gPSBpbmRpY2VzT2Zmc2V0ICsgMjtcbiAgICBpbmRleEJ1ZmZlcltpbmRleCArIDNdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyA0XSA9IGluZGljZXNPZmZzZXQgKyAyO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgNV0gPSBpbmRpY2VzT2Zmc2V0ICsgMztcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoID0gbnVsbDtcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVTcHJpdGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///900\n")}}]);