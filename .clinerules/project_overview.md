# プロジェクト概要: threejs-billboard

このプロジェクトは、Three.jsのためのビルボード機能を提供するモジュールです。

**パッケージ名:** `@masatomakino/threejs-billboard`
**バージョン:** `package.json` を参照してください。

## 主な機能

このパッケージが提供するビルボードには2つのスタイルがあります。

- **Billboard**: 3D空間上では点として表現され、そこにソースとして渡された画像を描画します。
- **PlaneMesh**: 3D空間上では板として表現され、カメラの移動に追従して回転します。

その他の機能：

- 画像ファイルをテクスチャとしてビルボードに表示します。
- PixiJSを使用して、動的に内容が書き換わるビルボードを提供します。
- `ScaleCalculator`: Billboardの表示サイズを調整し、カメラからの距離にかかわらず、ピクセル単位で正確なサイズ（ドットバイドット）で表示を実現するためのユーティリティクラスです。
- `CameraChaser`: PlaneMeshにカメラ追従機能を追加するためのクラスです。

## 依存関係 (Peer Dependencies)

- `pixi.js`: `^8.0.0`
- `three`: `>=0.126.0 <1.0.0`

## インストールと使用方法

npmを使用してインストールし、ES6モジュールとしてインポートして利用します。基本的な使用例として、`BillBoard` クラスをインスタンス化し、Three.jsのシーンに追加する方法が `README.md` に記載されています。

## 主要なスクリプト

- `npm run test`: ユニットテストを実行します。
- `npm run coverage`: テストカバレッジを計測します。
- `npm run build`: TypeScriptコードをビルドし、デモページを生成します。
- `npm run demo`: デモページを生成します。
- `npm run start:dev`: 開発サーバーを起動し、ファイルの変更を監視します。
- `npm run typedocs`: APIドキュメントを生成します。

## テスト環境

- テストフレームワークとして **Vitest** を採用しています。
- すべてのテストコードは `__test__` ディレクトリに格納されています。
- `__test__/__screenshots__/` ディレクトリはVitestによって管理され、テスト実行時に生成されるスクリーンショットが格納されます。このディレクトリにユーザーおよびエージェントはファイルを直接作成すべきではありません。

## ディレクトリ構造

- `.clinerules/`: AIエージェント向けのルールファイルや補助ファイルを格納するディレクトリ（これから作成）
- `__test__/`: テストコードを格納するディレクトリ
  - `__screenshots__/`: Vitestによって管理され、テスト実行時に生成されるスクリーンショットが格納されます。このディレクトリにユーザーおよびエージェントはファイルを直接作成すべきではありません。
- `_memory/`: AIエージェントが自由に作成、編集、削除を行えるタスクをまたいだ一時的なメモリ領域です。
- `demoSrc/`: デモ用のソースコードやアセットを格納するディレクトリ
- `docs/`: `demo` コマンドおよびAPIジェネレーターによって動的に作成されるファイルの置き場です。このディレクトリの内容は削除される可能性があるため、ユーザーとエージェントはこのディレクトリにファイルを直接作成すべきではありません。
- `src/`: プロジェクトのソースコードを格納するディレクトリ
- `.gitignore`: Gitの管理から除外するファイルを指定するファイル
- `LICENSE`: プロジェクトのライセンス情報ファイル
- `package-lock.json`: npmパッケージの依存関係を固定するファイル
- `package.json`: プロジェクトのメタデータ、依存関係、スクリプトなどを定義するファイル
- `README.md`: プロジェクトの概要や使用方法を記述したファイル
- `tsconfig.json`: TypeScriptの設定ファイル
- `vitest.config.ts`: Vitestの設定ファイル

## その他

- デモページとAPIドキュメントへのリンクが `README.md` に提供されています。
- ライセンスはMITです。
- ソースコードはTypeScriptで書かれています。
