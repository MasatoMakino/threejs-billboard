# TypeScript コーディング規約およびプロジェクト固有のルール

このドキュメントでは、本プロジェクトにおけるTypeScriptのコーディング規約および開発を進める上で明らかになったプロジェクト固有のルールを定めます。これらのルールに従うことで、コードの品質と保守性を維持し、開発効率を向上させることを目指します。

## 1. モジュールのインポート

- PixiJSおよびThree.jsのモジュールをインポートする際は、基本的にモジュールのルートから名前付きエクスポートを使用することを推奨します。
  - 例: `import { Container, Ticker } from 'pixi.js';`
  - 例: `import { Scene, PerspectiveCamera } from 'three';`
- ただし、Three.jsのオプションモジュールなど、特定のサブパスからのインポートが必要な例外も存在します。
  - 例: `import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';`

## 2. 非同期処理の初期化

- `autoDetectRenderer`のように非同期で初期化が必要な機能を使用する場合は、コンストラクターではなく非同期関数（例: `init` メソッド）内で実行してください。

## 3. JavaScript ファイルでの型アサーション

- `.js`ファイル内でTypeScriptの型アサーション構文（`as Type`）を使用することは禁止します。型アサーションはTypeScriptファイル（`.ts`または`.tsx`）でのみ使用可能です。

## 4. `as any` キャストの禁止

- 原則として`as any`キャストの使用は禁止します。`as any`キャストが必要になる場合は、型安全性が損なわれている可能性が高いため、設計や型の定義を見直してください。

## 5. デモソースからのビルド済みESMファイルのインポート

- `demoSrc`ディレクトリ内のファイルから、プロジェクトのビルド済みESMファイルをインポートする際は、相対パス`../esm/index.js`を使用してください。

## 6. 循環参照の回避

- クラス間で循環参照が発生する場合は、インターフェイスを定義し、依存関係の方向を一方通行にすることで回避してください。
